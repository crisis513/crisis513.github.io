I"óJ<p>ë³¸ í”„ë¡œì íŠ¸ëŠ” í´ë¼ìš°ë“œì»´í“¨íŒ…ì—°êµ¬ì¡°í•©(CCCR)ì—ì„œ í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í™˜ê²½ì—ì„œ DevSecOps íˆ´ ì²´ì¸ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.</p>

<p>9ì›”ì— ì‹œì‘í•˜ì—¬ 11ì›” 27ì¼ê¹Œì§€ ì§„í–‰ë˜ê³  í˜„ì¬ ì§„í–‰ ì¤‘ì´ë©°, ë‚´ìš©ì´ ê¸´ ë§Œí¼ ì—¬ëŸ¬ í¬ìŠ¤íŠ¸ë¥¼ ë‚˜ëˆ  ê¸°ë¡í•˜ê³ ì í•©ë‹ˆë‹¤.</p>

<blockquote>
  <p><strong>ë³¸ í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ í”„ë¡œì íŠ¸ ë„ì¤‘ ì‘ì„±ë˜ì–´ ì¶”í›„ ë³€ê²½ë  ìˆ˜ ìˆìŒì„ ì•Œë¦½ë‹ˆë‹¤.</strong></p>
</blockquote>

<hr />

<h2 id="ëª©ì°¨">ëª©ì°¨</h2>

<p><a href="#list1">1. CD(Continuous Delivery/Continuous Deployment) êµ¬ì„±</a></p>

<p><a href="#list1_1">Â Â  1.1. CD ë€?</a></p>

<p><a href="#list1_2">Â Â  1.2. Jenkins - ì¿ ë²„ë„¤í‹°ìŠ¤ ì—°ë™</a></p>

<p><a href="#list1_3">Â Â  1.3. Jenkins Slave ì„¤ì •</a></p>

<p><a href="#list1_4">Â Â  1.4. ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ íŒŒì´í”„ë¼ì¸ ì¶”ê°€</a></p>

<p><a href="#list2">2. argoCDë¥¼ ì´ìš©í•œ CD êµ¬ì„±</a></p>

<p><a href="#list2_1">Â Â  2.1. argoCD ë€?</a></p>

<p><br /></p>

<hr />

<h2 id="1-cdcontinuous-deliverycontinuous-deploy-êµ¬ì„±---"><span style="color:purple"><strong>1. CD(Continuous Delivery/Continuous Deploy) êµ¬ì„±</strong></span>   <a name="list1"></a></h2>

<p><br /></p>

<ul>
  <li>
    <p><strong>CD ë€?</strong>   <a name="list1_1"></a></p>

    <p>CDëŠ” ì§€ì†ì ì¸ ì§€ì†ì ì¸ ì œê³µ(Continuous Delivery) ë˜ëŠ” ì§€ì†ì ì¸ ë°°í¬(Continuous Deployment)ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>

    <p>ì´ ë‘ ìš©ì–´ëŠ” ìƒí˜¸ êµí™˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ë©°, ë‘ ê°€ì§€ ì˜ë¯¸ ëª¨ë‘ íŒŒì´í”„ë¼ì¸ì˜ ì¶”ê°€ ë‹¨ê³„ì— ëŒ€í•œ ìë™í™”ë¥¼ ëœ»í•˜ì§€ë§Œ ë•Œë¡œëŠ” ì–¼ë§ˆë‚˜ ë§ì€ ìë™í™”ê°€ ì´ë£¨ì–´ì§€ê³  ìˆëŠ”ì§€ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ ë³„ë„ë¡œ ì‚¬ìš©ë˜ê¸°ë„ í•©ë‹ˆë‹¤.</p>

    <p>ì§€ì†ì ì¸ ì œê³µì´ë€ <strong>ê°œë°œìë“¤ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ìš©í•œ ë³€ê²½ ì‚¬í•­ì´ ë²„ê·¸ í…ŒìŠ¤íŠ¸ë¥¼ ê±°ì³ ë¦¬í¬ì§€í† ë¦¬ì— ìë™ìœ¼ë¡œ ì—…ë¡œë“œ</strong>ë˜ëŠ” ê²ƒì„ ëœ»í•©ë‹ˆë‹¤.</p>

    <p>ì§€ì†ì ì¸ ë°°í¬ë€ <strong>ê°œë°œìì˜ ë³€ê²½ ì‚¬í•­ì„ ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ê³ ê°ì´ ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œë•ì…˜ í™˜ê²½ê¹Œì§€ ìë™ìœ¼ë¡œ ë¦´ë¦¬ìŠ¤í•˜ëŠ” ê²ƒ</strong>ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>

    <p>ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì œê³µ ì†ë„ë¥¼ ì €í•´í•˜ëŠ” ìˆ˜ë™ í”„ë¡œì„¸ìŠ¤ë¡œ ì¸í•œ ìš´ì˜íŒ€ì˜ í”„ë¡œì„¸ìŠ¤ ê³¼ë¶€í•˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ì—¬ ì¤ë‹ˆë‹¤.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Jenkins - ì¿ ë²„ë„¤í‹°ìŠ¤ ì—°ë™</strong>   <a name="list1_2"></a></p>

    <p>Jenkinsì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì„¤ëª…í•  ê²ƒì…ë‹ˆë‹¤.</p>

    <p>Jenkinsì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ êµ¬ì„±ì€ <a href="https://crisis513.github.io/project/2020/10/03/devsecops1.html#list2_1">êµ¬ì¶• í™˜ê²½ ì°¸ê³ </a>ë¥¼ ì°¸ê³ í•´ ì£¼ì„¸ìš”.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_1.png" alt="kubernetes_plugin" width="728" height="718" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 1] Jenkinsì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>

    <p>ë‹¤ìŒì€ ì„¤ì¹˜ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ í”ŒëŸ¬ê·¸ì¸ì— ëŒ€í•œ ì„¤ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤.</p>

    <p>Jenkins ì‹œìŠ¤í…œ ì„¤ì •ì—ì„œ ë§¨ ë°‘ìœ¼ë¡œ ë‚´ë ¤ê°€ë©´ [ê·¸ë¦¼ 2]ì™€ ê°™ì´ í´ë¼ìš°ë“œ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì´ ë‚˜ì˜µë‹ˆë‹¤.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_2.png" alt="cloud_configuration" width="598" height="75" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 2] Jenkins ì‹œìŠ¤í…œ ì„¤ì •ì—ì„œ í´ë¼ìš°ë“œ ì„¤ì • í´ë¦­</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>

    <p>ì—¬ê¸°ì„œ <code class="highlighter-rouge">a separate configuration page</code>ë¥¼ ëˆŒëŸ¬ Configure Clouds ì„¤ì •ìœ¼ë¡œ ë“¤ì–´ì˜µë‹ˆë‹¤.</p>

    <p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì •ì€ ë‹¤ìŒ [ê·¸ë¦¼ 3], [ê·¸ë¦¼ 4]ì™€ ê°™ì´ ì§„í–‰í•©ë‹ˆë‹¤.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_3.png" alt="kubernetes_plugin_configuration" width="725" height="335" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 3] ì¿ ë²„ë„¤í‹°ìŠ¤ í”ŒëŸ¬ê·¸ì¸ ì„¤ì •</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>

    <p>Kubernetes URLì€ kube-master ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•˜ì—¬ <code class="highlighter-rouge">~/.kube/config</code> íŒŒì¼ì˜ ë‚´ìš©ì„ í™•ì¸í•´ë³´ë©´ serverì— ëª…ì‹œëœ URLì„ ê¸°ì…í•˜ë©´ ë©ë‹ˆë‹¤.</p>

    <p>Kubernetes URLì„ ì…ë ¥í•˜ê³  <code class="highlighter-rouge">Test Connection</code> ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì •ìƒì ìœ¼ë¡œ ì ‘ì†ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span><span class="nb">cat</span> ~/.kube/config 
  apiVersion: v1
  clusters:
  - cluster:
      certificate-authority-data: <span class="nv">LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01UQXdPREF5TlRreU9Gb1hEVE13TVRBd05qQXlOVGt5T0Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTlNhCkhwK2M2cWxhRXU1cXlWWHpLZFA3UTJZWnVjVnN1aTRTczFqamUxQW41cXlEVDVnMk9iKzM5OXN4Y0phM215MkIKYjg0UE5NYmc1MERyenZ4S1VOWVZySkk4Z1F2c2JXWXRPZnhhTGV3NUF1aE5NV1dsRlVlRUpyTE9WT0NQdndoTApDRHVLOVd5TUlIMTU4U1hKM1dYRW5TeUZJWXVSeDI3NTNicnFWRzVuNnZMTVVMMUdDKzNSaHJ1cEN5d0xoVG12CnpyYWdWTVFicUVjV2pTcjV2TVZueTduTXVvQ2xmSjE3SXBYa1MweTN3eDJsRTJVREtIblNuSlZHeVNYbXVKYVYKL3A5THk4djNWL2VsVjZLY1plRStIaVZFNlNBT3R4bXhwSDl2Zmh2blpxQzBsbzNpaGpzR0hGUGRyeStiZkhVegpPaSsrZ1VCZmxKTkZucFZlNE5zQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFBNlI3NW9SWnJxQ2tDMEpqbURTMmgxMUN4WkYKTmM0cXRqMTlqeEZlQUFlMCt4a0MveUlidzBUYmY0OW1TWGE1VUhPbkE1RSszSStFWTdXc0h6dTJTOEZlU3FwbgpNZC9iYXp6aU5wT28vNGxoNGVWNkE5NmNsdjV1cm5CSVIzOVVpM085SnpKUDBobTRhUGxDZFVqcDhyb3BrSWFmCkZieURTcVBFS1E0Rm5tc1MvcGJWellHQ2RVdmlqT3JCcnBiTEU2ZW1PYkc2RGE4WG0xNWJHSzVUVUt5Mm5rOGgKOHoxNjZZanVVOTR1bW9RYjR4eVNWOThNZ2RRTWVsWml1U2dHelRKcEtKTHN3NG94SGdPbkNLZUNNeURHSFZOUwpnMFo2MU12YldlVzhzVEtaSHpCVVZySFZ3WjlTSCtNdGtMWllSb0VWdk9NTTNLSXczbmRieG8rcXd5OD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo</span><span class="o">=</span>
      server: https://10.178.0.19:6443
  ...<span class="o">(</span>ì¤‘ëµ<span class="o">)</span>
</code></pre></div>    </div>

    <p><br /></p>

    <p>ê·¸ í›„ ì•„ë˜ë¡œ ë‚´ë¦¬ë‹¤ë³´ë©´ <code class="highlighter-rouge">Pod Templates</code>ë¥¼ êµ¬ì„±í•˜ëŠ” ë²„íŠ¼ì´ ìˆìŠµë‹ˆë‹¤.</p>

    <p>ê·¸ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ìŒ [ê·¸ë¦¼ 4]ì™€ ê°™ì´ ì„¤ì •í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_4.png" alt="pod_template" width="910" height="601" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 4] Pod í…œí”Œë¦¿ ì„¤ì •</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Jenkins Slave ì„¤ì •</strong>   <a name="list1_3"></a></p>

    <p>Jenkinsì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì™€ì˜ ì—°ë™ì´ ì •ìƒì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆë‹¤ë©´ ë‹¤ìŒì€ Jenkins Slaveë¥¼ ìƒì„± ë° êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.</p>

    <p>Jenkinsì˜ <code class="highlighter-rouge">Manage Nodes</code> ì„¤ì •ì— ë“¤ì–´ì™€ì„œ ì™¼ìª½ì˜ <code class="highlighter-rouge">ì‹ ê·œ ë…¸ë“œ</code> íƒ­ì„ ëˆŒëŸ¬ Jenkins Slave ë…¸ë“œë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤.</p>

    <p>ì²« í™”ë©´ì—ì„œëŠ” ë…¸ë“œ ëª…ì— â€˜jenkins-slaveâ€™ë¼ê³  ì…ë ¥í•˜ê³  <code class="highlighter-rouge">Permanent Agent</code>ë¥¼ í´ë¦­ í›„ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_5.png" alt="create_jenkins_slave" width="937" height="437" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 5] Jenkins Slave ìƒì„±</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>

    <p>ì‹ ê·œ ë…¸ë“œì— ëŒ€í•œ ì„¤ì •ì—ì„œ ìœ„ì˜ [ê·¸ë¦¼ 5]ì™€ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤.</p>

    <p><strong>jenkins-slaveë¥¼ kube-master ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‹¤í–‰ì‹œì¼œë†“ê³  Jenkinsì—ì„œ ì›¹ ì†Œì¼“ì„ í†µí•´ kube-masterì— ì ‘ê·¼í•˜ì—¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰ì‹œì¼œì„œ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•˜ëŠ” í˜•íƒœë¡œ ì§„í–‰ë©ë‹ˆë‹¤.</strong></p>

    <p><br /></p>

    <p>jenkins-slave agentë¥¼ ìƒì„±í•˜ë©´ ë‹¤ìŒ [ê·¸ë¦¼ 6]ì˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_6.png" alt="jenkins_slave_guide" width="949" height="247" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 6] jenkins-slave ê°€ì´ë“œ í™•ì¸</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>

    <p><strong>agent.jar ë§í¬ë¥¼ ëˆŒëŸ¬ íŒŒì¼ì„ ë‹¤ìš´</strong>ë°›ê³  kube-master ì¸ìŠ¤í„´ìŠ¤ì— ë³µì‚¬í•œ í›„ì— [ê·¸ë¦¼ 6]ì— ë³´ì´ëŠ” ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤.</p>

    <p>í•˜ì§€ë§Œ kube-master ì¸ìŠ¤í„´ìŠ¤ì—ëŠ” javaê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šì•„ javaë¥¼ ì„¤ì¹˜í•˜ê³  ì„¤ì •í•˜ëŠ” ì‘ì—…ë¶€í„° ì§„í–‰í•©ë‹ˆë‹¤.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>yum <span class="nt">-y</span> <span class="nb">install </span>java-1.8.0-openjdk-devel.x86_64
  <span class="nv">$ </span><span class="nb">readlink</span> <span class="nt">-f</span> /usr/bin/javac
  <span class="nv">$ </span>vi /etc/profile
  <span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64

  <span class="nv">$ </span><span class="nb">source</span> /etc/profile
  <span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$JAVA_HOME</span>
  /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64/bin/javac
</code></pre></div>    </div>

    <p><br /></p>

    <p><strong>java 1.8 ë²„ì „ì„ ì„¤ì¹˜</strong>í•˜ê³  <strong>JAVA_HOME í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •</strong>í•˜ì—¬ java ëª…ë ¹ì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë„ë¡ í•´ì£¼ê³  ë‹¤ìŒ ëª…ë ¹ì„ ì…ë ¥í•©ë‹ˆë‹¤.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>java <span class="nt">-jar</span> agent.jar <span class="nt">-jnlpUrl</span> http://serversIP:8002/computer/jenkins-slave/slave-agent.jnlp <span class="nt">-secret</span> 032e782a7ef4897446fec5be230aefb9036ddb841552142e415012d266ced967 <span class="nt">-workDir</span> <span class="s2">"/data/jenkins"</span>
  Sep 30, 2020 3:18:20 PM org.jenkinsci.remoting.engine.WorkDirManager initializeWorkDir
  INFO: Using /home/jenkins/agent/remoting as a remoting work directory
  Sep 30, 2020 3:18:20 PM org.jenkinsci.remoting.engine.WorkDirManager setupLogging
  INFO: Both error and output logs will be printed to /home/jenkins/agent/remoting
  Sep 30, 2020 3:18:21 PM hudson.remoting.jnlp.Main createEngine
  INFO: Setting up agent: jenkins-slave
  Sep 30, 2020 3:18:21 PM hudson.remoting.jnlp.Main<span class="nv">$CuiListener</span> &lt;init&gt;
  INFO: Jenkins agent is running <span class="k">in </span>headless mode.
  Sep 30, 2020 3:18:21 PM hudson.remoting.Engine startEngine
  INFO: Using Remoting version: 4.5
  Sep 30, 2020 3:18:21 PM org.jenkinsci.remoting.engine.WorkDirManager initializeWorkDir
  INFO: Using /home/jenkins/agent/remoting as a remoting work directory
  Sep 30, 2020 3:18:21 PM hudson.remoting.jnlp.Main<span class="nv">$CuiListener</span> status
  INFO: WebSocket connection open
  Sep 30, 2020 3:18:22 PM hudson.remoting.jnlp.Main<span class="nv">$CuiListener</span> status
  INFO: Connected
</code></pre></div>    </div>

    <p><br /></p>

    <p>ì •ìƒì ìœ¼ë¡œ jenkins-slaveê°€ ì‹¤í–‰ë˜ë©´ Jenkinsì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ ë§Œë“¤ì–´ì§„ ê²ƒì´ê³  [ê·¸ë¦¼ 7]ê³¼ ê°™ì´ agentê°€ ì—°ê²°ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_7.png" alt="jenkins_slave_agent" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 7] jenkins-slave agent ì—°ê²° í™•ì¸</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Pipeline ì„¤ì • ë° í…ŒìŠ¤íŠ¸</strong>   <a name="list1_4"></a></p>

    <p>ìœ„ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ ê´€ë ¨ ì„¤ì •ì´ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ì¤ë‹ˆë‹¤.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  pipeline <span class="o">{</span>
      environment <span class="o">{</span>
          registry <span class="o">=</span> <span class="s2">"crisis513/flask-app"</span>
          registryCredential <span class="o">=</span> <span class="s1">'crisis513'</span>
          dockerImage <span class="o">=</span> <span class="s1">''</span>
          releaseName <span class="o">=</span> <span class="s2">"flask-app"</span>
          helmChartRepo <span class="o">=</span> <span class="s2">"flask-kubernetes-helm"</span>
          release_version <span class="o">=</span> <span class="s1">'latest'</span>
      <span class="o">}</span>
      agent <span class="o">{</span>
          label <span class="s2">"jenkins-slave"</span>
      <span class="o">}</span>
      stages <span class="o">{</span>
          stage<span class="o">(</span><span class="s1">'Cloning our Git'</span><span class="o">)</span> <span class="o">{</span>
              steps <span class="o">{</span>
                  git <span class="s1">'http://34.64.153.88:8001/root/flask-app.git'</span>
              <span class="o">}</span>
          <span class="o">}</span>
          stage<span class="o">(</span><span class="s1">'Building docker image'</span><span class="o">)</span> <span class="o">{</span>
              steps <span class="o">{</span>
                  script <span class="o">{</span>
                      dockerImage <span class="o">=</span> docker.build registry + <span class="s2">":</span><span class="k">${</span><span class="nv">release_version</span><span class="k">}</span><span class="s2">"</span>
                  <span class="o">}</span>
              <span class="o">}</span>
          <span class="o">}</span>
          stage<span class="o">(</span><span class="s1">'Deploy docker image'</span><span class="o">)</span> <span class="o">{</span>
              steps <span class="o">{</span>
                  script <span class="o">{</span>
                      docker.withRegistry<span class="o">(</span> <span class="s1">''</span>, registryCredential <span class="o">)</span> <span class="o">{</span>
                          dockerImage.push<span class="o">()</span>
                      <span class="o">}</span>
                  <span class="o">}</span>
              <span class="o">}</span>
          <span class="o">}</span>
          stage<span class="o">(</span><span class="s1">'Cleaning up'</span><span class="o">)</span> <span class="o">{</span>
              steps <span class="o">{</span>
                  sh <span class="s2">"docker rmi </span><span class="nv">$registry</span><span class="s2">:</span><span class="k">${</span><span class="nv">release_version</span><span class="k">}</span><span class="s2">"</span>
              <span class="o">}</span>
          <span class="o">}</span>
          stage<span class="o">(</span><span class="s1">'Deploy image to kubernetes'</span><span class="o">)</span> <span class="o">{</span>
              steps <span class="o">{</span>
                  sh <span class="s2">"""
                      helm lint </span><span class="k">${</span><span class="nv">helmChartRepo</span><span class="k">}</span><span class="s2">
                      helm upgrade </span><span class="k">${</span><span class="nv">releaseName</span><span class="k">}</span><span class="s2"> </span><span class="k">${</span><span class="nv">helmChartRepo</span><span class="k">}</span><span class="s2">
                  """</span>
              <span class="o">}</span>
          <span class="o">}</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div>    </div>

    <p>íŒŒì´í”„ë¼ì¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>

    <p>CIê°€ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ì „ í¬ìŠ¤íŒ…ê³¼ ë™ì¼í•˜ê³  ê·¸ ì´í›„ ë°°í¬í•˜ëŠ” ê³¼ì •ì´ ì¶”ê°€ë˜ì—ˆê³ , â€˜Deploy image to kubernetesâ€™ Stageì—ì„œ <strong>helm upgrade ëª…ë ¹ì–´ë¥¼ í†µí•´ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì‹¤í–‰ë˜ê³  ìˆëŠ” ì„œë¹„ìŠ¤ì— ë¡¤ë§ ì—…ë°ì´íŠ¸ í˜•íƒœë¡œ ì¬ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong></p>

    <p><br /></p>

    <table>
      <thead>
        <tr>
          <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_3_8.png" alt="pipeline_execute_result" width="716" height="332" /></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: center">[ê·¸ë¦¼ 8] ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ê¹Œì§€ì˜ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ê²°ê³¼</td>
        </tr>
      </tbody>
    </table>

    <p><br /></p>

    <p>ìœ„ ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ìœ„ì˜ [ê·¸ë¦¼ 8]ê³¼ ê°™ìŠµë‹ˆë‹¤. Git cloneí•˜ëŠ” ë¶€ë¶„ë¶€í„° ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì„œë¹„ìŠ¤ ë°°í¬í•˜ëŠ” ê³¼ì •ê¹Œì§€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <blockquote>
      <p>Helmì— ëŒ€í•œ ë¶€ë¶„ì€ ì¶”í›„ ë³„ë„ì˜ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
    </blockquote>

    <p><br /></p>
  </li>
</ul>

<hr />

<h2 id="2-argocdë¥¼-ì´ìš©í•œ-cd-êµ¬ì„±---"><span style="color:purple"><strong>2. argoCDë¥¼ ì´ìš©í•œ CD êµ¬ì„±</strong></span>   <a name="list2"></a></h2>

<p><br /></p>

<ul>
  <li>
    <p><strong>argoCD ë€?</strong>   <a name="list2_1"></a></p>

    <p>ì•ì„œ ì„¤ëª…í•œ Jenkins Slaveë¥¼ êµ¬ì„±í•˜ì—¬ CI/CDë¥¼ ëª¨ë‘ ì œì–´í•  ìˆ˜ ìˆì§€ë§Œ, CIë¥¼ Jenkinsì—ì„œ ì§„í–‰í•˜ê³  CDë¥¼ argoCDë¡œ ì§„í–‰í•˜ëŠ” í˜•íƒœë¡œë„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <p>argoCDëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì„¤ì¹˜ í•œ í›„ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì„ ê´€ë¦¬í•  ìˆ˜ â€‹â€‹ìˆìŠµë‹ˆë‹¤.</p>

    <p>Git ì €ì¥ì†Œì— ì•±ì„ ì„¤ëª…í•˜ëŠ” Kubernetes ë§¤ë‹ˆí˜ìŠ¤íŠ¸ê°€ ì¡´ì¬í•˜ëŠ”ë°, argoCDëŠ” ì´ëŸ¬í•œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ê°€ í•­ìƒ ë™ê¸°í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

    <p>ëª¨ë“  ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì™€ í•´ë‹¹ ë™ê¸°í™” ìƒíƒœëŠ” UIê°€ ê¹”ë”í•˜ê³  ì‹œê°ì ìœ¼ë¡œ ì˜ í‘œí˜„ë˜ì–´ ìˆìœ¼ë©´ì„œë„ ê°€ë³ê¸° ë•Œë¬¸ì— Jenkinsì™€ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ìƒë‹¹íˆ ë§¤ë ¥ì ì¸ ì„ íƒì§€ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.</p>

    <p><br /></p>
  </li>
</ul>
:ET