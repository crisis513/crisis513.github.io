<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta content="[Docker] ë„ì»¤ ë„¤íŠ¸ì›Œí¬" name="description"> <meta name="keywords" content="son,blog,infra,docker,network"> <meta name="author" content="son"> <meta name="baseurl" content=""> <title> son | [Docker] ë„ì»¤ ë„¤íŠ¸ì›Œí¬ </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20200311.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20200311.min.js"></script> <script src="/static/assets/blog-20200311.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184620200311", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">son</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">All</a></li> <li> <a class="page-scroll" href="/project/">Project</a></li> <li> <a class="page-scroll" href="/research/">Research</a></li> <li> <a class="page-scroll" href="/troubleshooting/">Troubleshooting</a></li> <li> <a class="page-scroll" href="/infra/">Infra</a></li> <li> <a class="page-scroll" href="/data/">Data</a></li> <li> <a class="page-scroll" href="/anything/">Anything</a></li> </ul> </div> </div> </nav> </div> <div id="inSlider" class="carousel carousel-fade" data-ride="carousel"> <ol class="carousel-indicators"> <li data-target="#inSlider" data-slide-to="0" class="active"></li> <li data-target="#inSlider" data-slide-to="1"></li> <li data-target="#inSlider" data-slide-to="2"></li> </ol> <div class="carousel-inner" role="listbox"> <div class="item active"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_one.jpg);" title="han-gi's blog"> </div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_two.jpg);" title="han-gi's blog"></div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_three.jpg);" title="han-gi's blog"></div> </div> </div> <a class="left carousel-control" href="#inSlider" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#inSlider" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/infra">Infra</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 2 Sep 2020</span> <h1> [Docker] ë„ì»¤ ë„¤íŠ¸ì›Œí¬ </h1> </div> <div class="ksJIXb"> <div class="ikVqUi"> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#ê°œìš”">ê°œìš”</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#1-ë‚´-ì§ˆë¬¸ì—ëŠ”-ì™œ-ë‹µë³€ì—-ë‹¬ë¦¬ì§€-ì•Šì„ê¹Œ---ê°œë°œìê°€-ì§ˆë¬¸í•˜ëŠ”-ë²•">1. ë‚´ ì§ˆë¬¸ì—ëŠ” ì™œ ë‹µë³€ì— ë‹¬ë¦¬ì§€ ì•Šì„ê¹Œ? - ê°œë°œìê°€ ì§ˆë¬¸í•˜ëŠ” ë²•</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#1-ì§ˆë¬¸ì„-í•˜ê¸°-ì „ì—-í•´ì•¼-í• -ê²ƒë“¤">1) ì§ˆë¬¸ì„ í•˜ê¸° ì „ì— í•´ì•¼ í•  ê²ƒë“¤</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#2-ì´ì œ-ê²€ìƒ‰í•´ë³´ì">2) ì´ì œ ê²€ìƒ‰í•´ë³´ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#3-ê·¸ë˜ë„-í•´ê²°ì´-ì•ˆ-ë˜ì—ˆìœ¼ë©´-ì§ˆë¬¸ì„-í•˜ì">3) ê·¸ë˜ë„ í•´ê²°ì´ ì•ˆ ë˜ì—ˆìœ¼ë©´ ì§ˆë¬¸ì„ í•˜ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#2-ì§ˆë¬¸ì„-ì˜í•˜ëŠ”-ê°œë°œì">2. ì§ˆë¬¸ì„ ì˜í•˜ëŠ” ê°œë°œì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#1-ì¶©ë¶„í•œ-êµ¬ê¸€ë§ì„-ìš°ì„ -ì„ í–‰í•˜ì">1) ì¶©ë¶„í•œ êµ¬ê¸€ë§ì„ ìš°ì„  ì„ í–‰í•˜ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#2-ë™ë£Œì˜-ì‹œê°„ì„-ë‚­ë¹„í•˜ì§€-ë§ìì§ˆë¬¸-ì •ë¦¬í•´ì•¼-í•˜ëŠ”-ì´ìœ ">2) ë™ë£Œì˜ ì‹œê°„ì„ ë‚­ë¹„í•˜ì§€ ë§ì(ì§ˆë¬¸ ì •ë¦¬í•´ì•¼ í•˜ëŠ” ì´ìœ )</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#3-ì§ˆë¬¸-ì •ë¦¬í•˜ê¸°">3) ì§ˆë¬¸ ì •ë¦¬í•˜ê¸°</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#4-í•œ-ê±¸ìŒ-ë”-ë‚˜ì•„ê°€ì„œ">4) í•œ ê±¸ìŒ ë” ë‚˜ì•„ê°€ì„œ!</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#-íšŒê³ ">ğŸ¹ íšŒê³ </a></div> </div> </div> <hr /> <h3 id="ëª©ì°¨">ëª©ì°¨</h3> <p><a href="#list1">1. ë„ì»¤ ë„¤íŠ¸ì›Œí¬ </a></p> <p><a href="#list1_1">Â Â  1.1. ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„</a></p> <p><a href="#list1_2">Â Â  1.2. bridge</a></p> <p><a href="#list1_3">Â Â  1.3. host</a></p> <p><a href="#list1_4">Â Â  1.4. none</a></p> <p><a href="#list1_5">Â Â  1.5. overlay</a></p> <p><a href="#list1_6">Â Â  1.6. macvlan</a></p> <p><a href="#list2">2. ì»¨í…Œì´ë„ˆì˜ í†µì‹ </a></p> <p><a href="#list2_1">Â Â  2.1. ë§í¬</a></p> <p><a href="#list2_2">Â Â  2.2. í¬íŠ¸ í¬ì›Œë”©</a></p> <hr /> <h2 id="1-ë„ì»¤-ë„¤íŠ¸ì›Œí¬---"><span style="color:purple"><strong>1. ë„ì»¤ ë„¤íŠ¸ì›Œí¬</strong></span> <a name="list1"></a></h2> <p><br /></p> <ul> <li> <p><strong>ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„</strong> <a name="list1_1"></a></p> <ol> <li> <p>docker network ls â†’ ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„ ëª©ë¡ í™•ì¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker network <span class="nb">ls
 </span>NETWORK ID          NAME                DRIVER              SCOPE
 b3b9ff62fe49        bridge              bridge              <span class="nb">local
 </span>aeca1add77f7        host                host                <span class="nb">local
 </span>766cc2ddc934        none                null                <span class="nb">local</span>
</code></pre></div> </div> </li> </ol> </li> <li> <p><strong>bridge</strong> <a name="list1_2"></a></p> <ul> <li> <p>ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•˜ëŠ” í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬</p> </li> <li> <p>ê°™ì€ bridgeì— ì—°ê²°ë˜ì–´ ìˆìœ¼ë©´ ì»¨í…Œì´ë„ˆì˜ IPì£¼ì†Œë¡œ í†µì‹  ê°€ëŠ¥</p> </li> <li> <p>ì™¸ë¶€ì™€ í†µì‹ ë„ ê°€ëŠ¥í•¨ â†’ NAPT í†µì‹  ì‚¬ìš©, ì™¸ë¶€ì™€ í†µì‹ í•˜ê¸° ìœ„í•´ì„œ í¬íŠ¸í¬ì›Œë”© ì‚¬ìš©</p> </li> <li> <p>bridge ë„¤íŠ¸ì›Œí¬ ì‹¤ìŠµ</p> <ol> <li> <p>docker network create â†’ ë„¤íŠ¸ì›Œí¬ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker inspect bridge
 â†’ í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ì˜ ëŒ€ì—­ê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ” ì»¨í…Œì´ë„ˆì˜ ëª©ë¡ ë° IP ì£¼ì†Œ í™•ì¸ ê°€ëŠ¥ 

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker network create <span class="nt">--subnet</span> 172.18.0.0/16 <span class="nt">--gateway</span> 172.18.0.1 net1

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker network <span class="nb">ls
 </span>NETWORK ID          NAME                DRIVER              SCOPE
 b3b9ff62fe49        bridge              bridge              <span class="nb">local
 </span>aeca1add77f7        host                host                <span class="nb">local</span>
 <span class="k">**</span>7854534b99b2      net1                bridge              <span class="nb">local</span><span class="k">**</span>
 766cc2ddc934        none                null                <span class="nb">local</span>
</code></pre></div> </div> </li> <li> <p>net1ì„ ì‚¬ìš©í•˜ëŠ” ì»¨í…Œì´ë„ˆ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-itd</span> <span class="nt">--name</span> os5 <span class="nt">--network</span> net1 centos:latest

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">exec </span>os5 ip a s
 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
     <span class="nb">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
     inet 127.0.0.1/8 scope host lo
     valid_lft forever preferred_lft forever
 12: eth0@if13: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default 
     <span class="nb">link</span>/ether 02:42:ac:12:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0
     inet <span class="k">**</span>172.18.0.2/16<span class="k">**</span> brd 172.18.255.255 scope global eth0
     valid_lft forever preferred_lft forever
</code></pre></div> </div> </li> </ol> </li> </ul> </li> <li> <p><strong>host</strong> <a name="list1_3"></a></p> <ul> <li> <p>í˜¸ìŠ¤íŠ¸ì—ì„œ ì»¨í…Œì´ë„ˆì˜ ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ë¥¼ í•´ì œí•˜ì—¬ í˜¸ìŠ¤íŠ¸ì˜ ë„¤íŠ¸ì›Œí¬ ì •ë³´ë¥¼ ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•</p> </li> <li> <p>host ë„¤íŠ¸ì›Œí¬ ì‹¤ìŠµ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> web4 <span class="nt">--network</span> host httpd:latest 
  06f5be6f136862da2df9ee875c71167820eabd29c489c934b2834db859258762

  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>curl localhost
  &lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;

  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--network</span> host <span class="nt">--name</span> os6 <span class="nt">--rm</span> centos:latest
  â†’ ì›ë˜ í˜¸ìŠ¤íŠ¸ì˜ ipê°€ ë‚˜ì˜´

  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker stop web4
  web4

  <span class="o">&gt;</span> httpd ì„¤ì¹˜
  <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">sudo </span>yum <span class="nt">-y</span> <span class="nb">install </span>httpd
  <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">sudo </span>systemctl start httpd
  <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">sudo </span>systemctl status httpd

  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>curl localhost

  <span class="o">&gt;</span> host ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” webserver2 ì»¨í…Œì´ë„ˆ ìƒì„±
  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> webserver2 <span class="nt">--network</span> host httpd:latest
  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>curl localhost
  â†’ í˜¸ìŠ¤íŠ¸ OSì— ìˆëŠ” httpd.serviceê°€ ì¶œë ¥
</code></pre></div> </div> </li> </ul> </li> <li> <p><strong>none</strong> <a name="list1_4"></a></p> <ul> <li> <p>ì»¨í…Œì´ë„ˆì˜ ë„¤íŠ¸ì›Œí¬ ê¸°ëŠ¥ì„ ì‚¬ìš© X</p> <p>â†’ Interfaceë¥¼ í• ë‹¹í•˜ì§€ ì•Šì„ ë•Œ ì‚¬ìš©</p> </li> <li> <p>none ë„¤íŠ¸ì›Œí¬ ì‹¤ìŠµ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--name</span> os6 <span class="nt">--rm</span> <span class="nt">--network</span> none centos:latest ip a s
  1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
      <span class="nb">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
      inet 127.0.0.1/8 scope host lo
         valid_lft forever preferred_lft forever
</code></pre></div> </div> </li> </ul> </li> <li> <p><strong>overlay</strong> <a name="list1_5"></a></p> <ul> <li> <p>ì„œë¡œ ë‹¤ë¥¸ ë„ì»¤ í˜¸ìŠ¤íŠ¸ë¥¼ ì—°ê²°í•˜ì—¬ í†µì‹ </p> </li> <li> <p>ë„ì»¤ ìŠ¤ì›œê³¼ ê°™ì€ í´ëŸ¬ìŠ¤í„° ì„œë¹„ìŠ¤ì— ì‚¬ìš©</p> </li> </ul> </li> <li> <p><strong>macvlan</strong> <a name="list1_6"></a></p> <ul> <li> <p>MAC ì£¼ì†Œë¥¼ ì»¨í…Œì´ë„ˆì— í• ë‹¹ â†’ ë¬¼ë¦¬ì ì¸ ë„¤íŠ¸ì›Œí¬ì—ì„œ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥</p> </li> <li> <p>ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ì— ì§ì ‘ ì—°ê²°í•´ì•¼í•  ë•Œ ì‚¬ìš©</p> </li> <li> <p>macvlan ë„¤íŠ¸ì›Œí¬ ì‹¤ìŠµ</p> <ol> <li>IP í™•ì¸ <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>ip a show enp0s8
     enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
     <span class="nb">link</span>/ether 08:00:27:dd:11:95 brd ff:ff:ff:ff:ff:ff
     inet 192.168.56.100/24 brd 192.168.56.255 scope global noprefixroute enp0s8
         valid_lft forever preferred_lft forever
     inet6 fe80::d31:5047:a77b:837e/64 scope <span class="nb">link </span>noprefixroute 
         valid_lft forever preferred_lft forever
</code></pre></div> </div> </li> <li> <p>NICì˜ promiscëª¨ë“œë¥¼ í™œì„±í™”</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">sudo </span>ip <span class="nb">link set </span>enp0s8 promisc on

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>ip a show enp0s8
 enp0s8: &lt;BROADCAST,MULTICAST,<span class="k">**</span>PROMISC<span class="k">**</span>,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
 <span class="nb">link</span>/ether 08:00:27:dd:11:95 brd ff:ff:ff:ff:ff:ff
 inet 192.168.56.100/24 brd 192.168.56.255 scope global noprefixroute enp0s8
     valid_lft forever preferred_lft forever
 inet6 fe80::d31:5047:a77b:837e/64 scope <span class="nb">link </span>noprefixroute 
     valid_lft forever preferred_lft forever
</code></pre></div> </div> </li> <li> <p>macvlan ë„¤íŠ¸ì›Œí¬ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker network create <span class="nt">-d</span> macvlan <span class="nt">--subnet</span> 192.168.56.0/24 
 <span class="nt">--gateway</span> 192.168.56.1 <span class="nt">--ip-range</span> 192.168.56.128/25 <span class="nt">-o</span> <span class="nv">parent</span><span class="o">=</span>enp0s8 macvlan1

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker network <span class="nb">ls
 </span>NETWORK ID          NAME                DRIVER              SCOPE
 b3b9ff62fe49        bridge              bridge              <span class="nb">local
 </span>aeca1add77f7        host                host                <span class="nb">local</span>
 <span class="k">**</span>309515f14dde        macvlan1            macvlan             <span class="nb">local</span><span class="k">**</span>
</code></pre></div> </div> </li> <li> <p>macvlan ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¨í…Œì´ë„ˆ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--network</span> macvlan1 <span class="nt">--rm</span> centos:latest

 <span class="o">[</span>root@da574e50dae8 /]# ip a
 lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
     <span class="nb">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
     inet 127.0.0.1/8 scope host lo
     valid_lft forever preferred_lft forever
 eth0@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN group default 
     <span class="nb">link</span>/ether 02:42:c0:a8:38:80 brd ff:ff:ff:ff:ff:ff link-netnsid 0
     inet 192.168.56.128/24 brd 192.168.56.255 scope global eth0
     valid_lft forever preferred_lft forever
</code></pre></div> </div> <p><br /></p> </li> </ol> </li> </ul> </li> </ul> <hr /> <h2 id="ì»¨í…Œì´ë„ˆì˜-í†µì‹ ---"><span style="color:purple"><strong>ì»¨í…Œì´ë„ˆì˜ í†µì‹ </strong></span> <a name="list2"></a></h2> <p><br /></p> <ul> <li> <p><strong>ë§í¬</strong> <a name="list2_1"></a></p> <ul> <li> <p>ì»¨í…Œì´ë„ˆ ê°„ ì´ë¦„ ë˜ëŠ” Aliasìœ¼ë¡œ í†µì‹ í•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ë§í¬ ê¸°ëŠ¥ ì‚¬ìš©</p> </li> <li> <p>ë§í¬ ì‹¤ìŠµ</p> <ol> <li> <p>web3 ì»¨í…Œì´ë„ˆ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> web3 httpd:latest
</code></pre></div> </div> </li> <li> <p>link ì‚¬ìš© â†’ ping í…ŒìŠ¤íŠ¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-itd</span> <span class="nt">--name</span> os7 <span class="nt">--link</span> web3 centos:latest
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker attach os7
 <span class="o">[</span>root@c3efaa711015 /]# ping web3
 PING web3 <span class="o">(</span>172.17.0.2<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
 64 bytes from web3 <span class="o">(</span>172.17.0.2<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>1 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.089 ms
 64 bytes from web3 <span class="o">(</span>172.17.0.2<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>2 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.099 ms
</code></pre></div> </div> </li> <li> <p>/etc/hosts íŒŒì¼ í™•ì¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>root@c3efaa711015 /]# <span class="nb">cat</span> /etc/hosts
 172.17.0.2	web3 029780c37d77
 172.17.0.3	c3efaa711015
</code></pre></div> </div> </li> <li> <p>ì»¨í…Œì´ë„ˆ ì´ë¦„ or ë³„ì¹­ ì‚¬ìš© ê°€ëŠ¥</p> </li> </ol> </li> </ul> </li> <li> <p><strong>í¬íŠ¸ í¬ì›Œë”©</strong> <a name="list2_2"></a></p> <ul> <li> <p>ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¨í…Œì´ë„ˆëŠ” ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ë•Œ í¬íŠ¸ í¬ì›Œë”©í•´ì•¼ í•¨</p> </li> <li> <p>í¬íŠ¸ í¬ì›Œë”© ì‹¤ìŠµ</p> <ol> <li> <p>í˜¸ìŠ¤íŠ¸ì˜ 8080í¬íŠ¸ë¡œ ì ‘ê·¼í• ë•Œ ì»¨í…Œì´ë„ˆì˜ 80ë²ˆ í¬íŠ¸ë¡œ ì „ë‹¬í•˜ëŠ” í¬íŠ¸í¬ì›Œë”© ì„¤ì •</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> web5 <span class="nt">-p</span> 8080:80 httpd:latest
</code></pre></div> </div> </li> <li> <p>docker ps</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker ps 
 CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS                  NAMES
 f0929f220e86        httpd:latest        <span class="s2">"httpd-foreground"</span>   29 seconds ago      Up 28 seconds       0.0.0.0:8080-&gt;80/tcp   web5
</code></pre></div> </div> </li> <li> <p>ì ‘ê·¼ í™•ì¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>curl localhost:8080
 &lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre></div> </div> <p>í˜„ì¬ ë„ì»¤ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” CentOS 7ì—ì„œ curl ëª…ë ¹ì–´ë¥¼ í†µí•´ 8080 í¬íŠ¸ë¡œì˜ ì ‘ê·¼ì´ ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> son@ubuntu:~<span class="nv">$ </span>curl 192.168.56.100:8080
 &lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre></div> </div> <p>í˜„ì¬ Virtualboxë¥¼ í†µí•´ CentOSë¥¼ êµ¬ë™ì‹œí‚¤ê³  ìˆëŠ” Ubuntu(Host OS)ì—ì„œ curl ëª…ë ¹ì–´ë¥¼ í†µí•´ 8080 í¬íŠ¸ë¡œì˜ ì ‘ê·¼ì´ ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.</p> </li> </ol> </li> </ul> </li> </ul> <p><br /></p> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">son</button> <button class="btn btn-white btn-xs" type="button">blog</button> <button class="btn btn-white btn-xs" type="button">infra</button> <button class="btn btn-white btn-xs" type="button">docker</button> <button class="btn btn-white btn-xs" type="button">network</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> <i class="fa fa-comments-o"> </i> <span class="disqus-comment-count" data-disqus-url="http://192.168.116.128:4000/backup/2020-09-02-docker3.html">0</span> comments </div> </div> </div> </div> <div class="PageNavigation"> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */ /* var disqus_config = function () { this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable }; */ (function() { var d = document, s = d.createElement('script'); s.src = '//son.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-93473370-3', 'auto'); ga('require', ''); ga('send', 'pageview'); </script> <!-- GrowingIO --> <script id="dsq-count-scr" src="https://son.disqus.com/count.js" async></script> </body> </html>
