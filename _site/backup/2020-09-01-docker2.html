<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta content="[Docker] ë„ì»¤ ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆ ë° ë³¼ë¥¨ ê¸°ì´ˆ" name="description"> <meta name="keywords" content="son,blog,infra,docker,image,container,volume"> <meta name="author" content="son"> <meta name="baseurl" content=""> <title> son | [Docker] ë„ì»¤ ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆ ë° ë³¼ë¥¨ ê¸°ì´ˆ </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20200311.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20200311.min.js"></script> <script src="/static/assets/blog-20200311.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184620200311", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">son</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">All</a></li> <li> <a class="page-scroll" href="/project/">Project</a></li> <li> <a class="page-scroll" href="/research/">Research</a></li> <li> <a class="page-scroll" href="/troubleshooting/">Troubleshooting</a></li> <li> <a class="page-scroll" href="/infra/">Infra</a></li> <li> <a class="page-scroll" href="/data/">Data</a></li> <li> <a class="page-scroll" href="/anything/">Anything</a></li> </ul> </div> </div> </nav> </div> <div id="inSlider" class="carousel carousel-fade" data-ride="carousel"> <ol class="carousel-indicators"> <li data-target="#inSlider" data-slide-to="0" class="active"></li> <li data-target="#inSlider" data-slide-to="1"></li> <li data-target="#inSlider" data-slide-to="2"></li> </ol> <div class="carousel-inner" role="listbox"> <div class="item active"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_one.jpg);" title="han-gi's blog"> </div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_two.jpg);" title="han-gi's blog"></div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_three.jpg);" title="han-gi's blog"></div> </div> </div> <a class="left carousel-control" href="#inSlider" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#inSlider" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/infra">Infra</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 1 Sep 2020</span> <h1> [Docker] ë„ì»¤ ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆ ë° ë³¼ë¥¨ ê¸°ì´ˆ </h1> </div> <div class="ksJIXb"> <div class="ikVqUi"> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#ê°œìš”">ê°œìš”</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#1-ë‚´-ì§ˆë¬¸ì—ëŠ”-ì™œ-ë‹µë³€ì—-ë‹¬ë¦¬ì§€-ì•Šì„ê¹Œ---ê°œë°œìê°€-ì§ˆë¬¸í•˜ëŠ”-ë²•">1. ë‚´ ì§ˆë¬¸ì—ëŠ” ì™œ ë‹µë³€ì— ë‹¬ë¦¬ì§€ ì•Šì„ê¹Œ? - ê°œë°œìê°€ ì§ˆë¬¸í•˜ëŠ” ë²•</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#1-ì§ˆë¬¸ì„-í•˜ê¸°-ì „ì—-í•´ì•¼-í• -ê²ƒë“¤">1) ì§ˆë¬¸ì„ í•˜ê¸° ì „ì— í•´ì•¼ í•  ê²ƒë“¤</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#2-ì´ì œ-ê²€ìƒ‰í•´ë³´ì">2) ì´ì œ ê²€ìƒ‰í•´ë³´ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#3-ê·¸ë˜ë„-í•´ê²°ì´-ì•ˆ-ë˜ì—ˆìœ¼ë©´-ì§ˆë¬¸ì„-í•˜ì">3) ê·¸ë˜ë„ í•´ê²°ì´ ì•ˆ ë˜ì—ˆìœ¼ë©´ ì§ˆë¬¸ì„ í•˜ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#2-ì§ˆë¬¸ì„-ì˜í•˜ëŠ”-ê°œë°œì">2. ì§ˆë¬¸ì„ ì˜í•˜ëŠ” ê°œë°œì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#1-ì¶©ë¶„í•œ-êµ¬ê¸€ë§ì„-ìš°ì„ -ì„ í–‰í•˜ì">1) ì¶©ë¶„í•œ êµ¬ê¸€ë§ì„ ìš°ì„  ì„ í–‰í•˜ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#2-ë™ë£Œì˜-ì‹œê°„ì„-ë‚­ë¹„í•˜ì§€-ë§ìì§ˆë¬¸-ì •ë¦¬í•´ì•¼-í•˜ëŠ”-ì´ìœ ">2) ë™ë£Œì˜ ì‹œê°„ì„ ë‚­ë¹„í•˜ì§€ ë§ì(ì§ˆë¬¸ ì •ë¦¬í•´ì•¼ í•˜ëŠ” ì´ìœ )</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#3-ì§ˆë¬¸-ì •ë¦¬í•˜ê¸°">3) ì§ˆë¬¸ ì •ë¦¬í•˜ê¸°</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#4-í•œ-ê±¸ìŒ-ë”-ë‚˜ì•„ê°€ì„œ">4) í•œ ê±¸ìŒ ë” ë‚˜ì•„ê°€ì„œ!</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#-íšŒê³ ">ğŸ¹ íšŒê³ </a></div> </div> </div> <hr /> <h3 id="ëª©ì°¨">ëª©ì°¨</h3> <p><a href="#list1">1. ë„ì»¤ ì´ë¯¸ì§€(Docker Image)</a></p> <p><a href="#list1_1">Â Â  1.1. ë„ì»¤ í—ˆë¸Œ(Docker Hub)</a></p> <p><a href="#list1_2">Â Â  1.2. ë„ì»¤ ì´ë¯¸ì§€ ê´€ë ¨ ëª…ë ¹ì–´ ì‹¤ìŠµ</a></p> <p><a href="#list2">2. ë„ì»¤ ì»¨í…Œì´ë„ˆ(Docker Container)</a></p> <p><a href="#list2_1">Â Â  2.1. ì»¨í…Œì´ë„ˆ ê´€ë ¨ ëª…ë ¹ì–´ ì‹¤ìŠµ</a></p> <p><a href="#list3">3. ë„ì»¤ ë³¼ë¥¨(Docker Volume)</a></p> <p><a href="#list3_1">Â Â  3.1. ë„ì»¤ì—ì„œ ë°ì´í„° ê´€ë¦¬</a></p> <p><a href="#list3_2">Â Â  3.2. Bind Mount ì‚¬ìš©</a></p> <p><a href="#list3_3">Â Â  3.3. ë³¼ë¥¨ ì‚¬ìš© ì‹¤ìŠµ</a></p> <hr /> <h2 id="1-ë„ì»¤-ì´ë¯¸ì§€---"><span style="color:purple"><strong>1. ë„ì»¤ ì´ë¯¸ì§€</strong></span> <a name="list1"></a></h2> <p><br /></p> <ul> <li> <p><strong>ë„ì»¤ í—ˆë¸Œ(Docker Hub)</strong> <a name="list1_1"></a></p> <p>ìì‹ ì˜ ê³„ì •ì´ ìˆë‹¤ë©´ í”„ë¡œì íŠ¸ë¥¼ Push/Pull í•  ìˆ˜ ìˆëŠ” Githubì™€ ê°™ì´ ë„ì»¤ì—ì„œë„ ë„ì»¤ í—ˆë¸Œë¼ëŠ” ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p> <p>Githubì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë„ì»¤ ê³„ì •ì´ ìˆë‹¤ë©´ ëˆ„êµ¬ë‚˜ Push/Pull í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ë¹„ìŠ·í•©ë‹ˆë‹¤.</p> <p><a href="https://hub.docker.com/">Docker Hub</a> ì‚¬ì´íŠ¸ì—ì„œ íšŒì›ê°€ì…í•˜ì—¬ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <table> <thead> <tr> <th style="text-align: center"><img src="/static/assets/img/landing/docker_image.png" alt="docker_image" width="760" height="330" /></th> </tr> </thead> <tbody> <tr> <td style="text-align: center">[ê·¸ë¦¼ 1] ê¹ƒí—ˆë¸Œì™€ ë„ì»¤ í—ˆë¸Œ</td> </tr> </tbody> </table> <p><br /></p> <ul> <li> <p>ë„ì»¤ì—ì„œ ìš´ì˜í•˜ê³  ìˆëŠ” ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ</p> </li> <li> <p>ë„ì»¤ í—ˆë¸Œì— ì €ì¥ëœ ì´ë¯¸ì§€ì˜ ì´ë¦„ì€ <strong>ì €ì¥ì†Œ ì´ë¦„:íƒœê·¸</strong> í˜•íƒœ</p> </li> <li> <p>Inactive ì´ë¯¸ì§€(6ê°œì›”ê°„ Pushë‚˜ Pullì´ í•œ ë²ˆë„ ì¼ì–´ë‚˜ì§€ ì•Šì€ ì´ë¯¸ì§€)ëŠ” ì‚­ì œ ëŒ€ìƒì´ ë¨</p> </li> </ul> <p><br /></p> <p>ì´ ì™¸ì˜ ìì„¸í•œ ì •ë³´ëŠ” ì•„ë˜ì˜ ë„ì»¤ì˜ FAQ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.</p> <p><a href="https://www.docker.com/pricing/resource-consumption-updates">Resource Consumption Updates FAQ</a></p> <p><a href="https://www.docker.com/legal/docker-terms-service">Docker Terms of Service</a></p> <p><br /></p> </li> <li> <p><strong>ë„ì»¤ ì´ë¯¸ì§€ ê´€ë ¨ ëª…ë ¹ì–´ ì‹¤ìŠµ</strong> <a name="list1_2"></a></p> <ol> <li> <p>docker search</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker search centos
</code></pre></div> </div> <p>ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker search</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í•´ë‹¹ ëª…ë ¹ì–´ëŠ” centos ê³µì‹ ì´ë¯¸ì§€ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ìƒ‰í•˜ê²Œ ë©ë‹ˆë‹¤.</p> </li> <li> <p>docker pull</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker pull httpd
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker pull centos:7
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker pull mysql:5.7
</code></pre></div> </div> <p>ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker pull ì´ë¯¸ì§€ëª…:íƒœê·¸ëª…</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> <p>íƒœê·¸ë¥¼ ìƒëµí•˜ë©´ ê°€ì¥ ìµœì‹  ë²„ì „(latest)ë¥¼ ìë™ìœ¼ë¡œ ë°›ê²Œ ë˜ê³ , íƒœê·¸ë¥¼ ì§€ì •í•˜ë©´ í•´ë‹¹ íƒœê·¸ì˜ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ê²Œ ë©ë‹ˆë‹¤.</p> <p>ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ ìµœì‹ ë²„ì „ì˜ httpd ì´ë¯¸ì§€, 7 íƒœê·¸(ë²„ì „)ì— í•´ë‹¹í•˜ëŠ” centos ì´ë¯¸ì§€ì™€ 5.7 íƒœê·¸ì— í•´ë‹¹í•˜ëŠ” mysql ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> </li> <li> <p>docker image</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker images
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker image <span class="nb">ls</span>
</code></pre></div> </div> <p>ì´ë¯¸ì§€ ëª©ë¡ì„ ë³´ê¸° ìœ„í•œ ëª…ë ¹ì–´ë¡œ <code class="language-plaintext highlighter-rouge">docker images</code>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> </li> <li> <p>docker rmi</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker rmi hello-world:latest
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker rmi mysql:5.7
</code></pre></div> </div> <p>ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´<code class="language-plaintext highlighter-rouge">docker rmi</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> <p>ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ê³  ìˆìœ¼ë©´ ì‚­ì œë˜ì§€ ì•Šì§€ë§Œ <code class="language-plaintext highlighter-rouge">-f</code> ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ê°•ì œë¡œ ì‚­ì œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker rmi <span class="sb">`</span>docker images <span class="nt">-aq</span><span class="sb">`</span>
</code></pre></div> </div> <p>ë‚˜ì•„ê°€ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ í•œë²ˆì— ì‚­ì œí•˜ê³ ì í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ docker images ëª…ë ¹ì˜ -a, -q ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ IDë¥¼ êµ¬í•œ ë’¤ docker rmi ëª…ë ¹ì— ë„˜ê²¨ì£¼ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.</p> </li> <li> <p>docker inspect</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker inspect httpd:latest
 <span class="o">[</span>
     <span class="o">{</span>
         <span class="s2">"Id"</span>: <span class="s2">"8aadfb1607e5065070b96cbe5e3259312038cc0e51b2ba62e4ea9da802691574"</span>,
         <span class="s2">"Created"</span>: <span class="s2">"2020-08-18T07:16:27.598216826Z"</span>,
         <span class="s2">"Path"</span>: <span class="s2">"httpd-foreground"</span>,
         <span class="s2">"Args"</span>: <span class="o">[]</span>,
         <span class="s2">"State"</span>: <span class="o">{</span>
             <span class="s2">"Status"</span>: <span class="s2">"running"</span>,
             <span class="s2">"Running"</span>: <span class="nb">true</span>,
             <span class="s2">"Paused"</span>: <span class="nb">false</span>,
             <span class="s2">"Restarting"</span>: <span class="nb">false</span>,
             <span class="s2">"OOMKilled"</span>: <span class="nb">false</span>,
             <span class="s2">"Dead"</span>: <span class="nb">false</span>,
             <span class="s2">"Pid"</span>: 4925,
             <span class="s2">"ExitCode"</span>: 0,
             <span class="s2">"Error"</span>: <span class="s2">""</span>,
             <span class="s2">"StartedAt"</span>: <span class="s2">"2020-08-18T07:20:00.233063636Z"</span>,
             <span class="s2">"FinishedAt"</span>: <span class="s2">"2020-08-18T07:19:49.732866179Z"</span>
         <span class="o">}</span>,
     ...<span class="o">(</span>ì¤‘ëµ<span class="o">)</span>
</code></pre></div> </div> <p>ë„ì»¤ ì˜¤ë¸Œì íŠ¸ì˜ ì •ë³´ë¥¼ ìì„¸í•˜ê²Œ í™•ì¸í•˜ê³ ì‹¶ì„ ë•Œ <code class="language-plaintext highlighter-rouge">docker inspect</code> ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ í˜¹ì€ ì´ë¯¸ì§€ì˜ low level ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê³ , ê¸°ë³¸ì ì¸ ì¶œë ¥ í¬ë§·ì€ <code class="language-plaintext highlighter-rouge">json</code> í˜•íƒœì…ë‹ˆë‹¤.</p> </li> <li> <p>docker save / docker load</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker save <span class="nt">-o</span> img.tar centos:7 httpd:latest
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">tar </span>tf img.tar
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> img.tar 
 <span class="nt">-rw-------</span><span class="nb">.</span> 1 user user 393334272  8ì›” 10 13:56 img.tar
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker rmi centos:7 httpd:latest

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker load <span class="nt">-i</span> img.tar
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker images
 REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
 centos              7                   831691599b88        4 days ago          215MB
 httpd               latest              a6ea92c35c43        4 days ago          166MB
</code></pre></div> </div> <p>í˜¸ìŠ¤íŠ¸ì— ì €ì¥ëœ ì´ë¯¸ì§€ë¥¼ ì•„ì¹´ì´ë¸Œë¡œ ë³µì‚¬í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker save</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ê³ , ì•„ì¹´ì´ë¸Œ íŒŒì¼ì„ ë¯¸ì´ì§€ë¡œ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker load</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> <p>2ë²ˆì—ì„œ ìƒì„±í•œ centos:7 ì´ë¯¸ì§€ì™€ httpd:latest ì´ë¯¸ì§€ë¥¼ img.tarë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì €ì¥í•˜ê³ ë‚˜ì„œ ë‘ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•œ í›„ì— img.tar íŒŒì¼ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> </li> </ol> </li> </ul> <p><br /></p> <h2 id="2-ë„ì»¤-ì»¨í…Œì´ë„ˆdocker-container---"><span style="color:purple"><strong>2. ë„ì»¤ ì»¨í…Œì´ë„ˆ(Docker Container)</strong></span> <a name="list2"></a></h2> <p><br /></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker version
Client: Docker Engine - Community
    Version:           19.03.12
    API version:       1.40
    Go version:        go1.13.10
    Git commit:        48a66213fe
    Built:             Mon Jun 22 15:46:54 2020
    OS/Arch:           linux/amd64
    Experimental:      <span class="nb">false

</span>Server: Docker Engine - Community
    Version:           19.03.12
    API version:       1.40
    Go version:        go1.13.10
    Git commit:        48a66213fe
    Built:             Mon Jun 22 15:46:54 2020
    OS/Arch:           linux/amd64
    Experimental:      <span class="nb">false</span>

</code></pre></div></div> <p>ë„ì»¤ ë²„ì „ì„ í™•ì¸í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker version</code> ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ë„ì»¤ì˜ ë²„ì „ ì •ë³´ê°€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ë¡œ ë‚˜ë‰˜ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. ë„ì»¤ëŠ” í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì—­í• ì„ ê°ê° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <p><br /></p> <table> <thead> <tr> <th style="text-align: center"><img src="/static/assets/img/landing/docker_client_host.png" alt="docker_client_host" width="523" height="228" /></th> </tr> </thead> <tbody> <tr> <td style="text-align: center">[ê·¸ë¦¼ 2] ë„ì»¤ í´ë¼ì´ì–¸íŠ¸ì™€ í˜¸ìŠ¤íŠ¸</td> </tr> </tbody> </table> <p><br /></p> <p>ë„ì»¤ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ë„ì»¤ í´ë¼ì´ì–¸íŠ¸ê°€ ë„ì»¤ ì„œë²„ë¡œ ëª…ë ¹ì„ ì „ì†¡í•˜ê³  ê²°ê³¼ë¥¼ ë°›ì•„ í„°ë¯¸ë„ì— ì¶œë ¥í•´ì¤ë‹ˆë‹¤. ê¸°ë³¸ê°’ì´ ë„ì»¤ ì„œë²„ì˜ ì†Œì¼“ì„ ë°”ë¼ë³´ê³  ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©ìëŠ” ì˜ì‹í•˜ì§€ ì•Šê³  ë§ˆì¹˜ ë°”ë¡œ ëª…ë ¹ì„ ë‚´ë¦¬ëŠ” ê²ƒ ê°™ì€ ëŠë‚Œì„ ë°›ìŠµë‹ˆë‹¤.</p> <p><br /></p> <ul> <li> <p><strong>ì»¨í…Œì´ë„ˆ ê´€ë ¨ ëª…ë ¹ì–´ ì‹¤ìŠµ</strong> <a name="list2_1"></a></p> <ul> <li> <p><strong>ì»¨í…Œì´ë„ˆ ìƒì„± ë° í™•ì¸</strong></p> <ol> <li> <p>docker ps</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker ps
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker ps <span class="nt">-a</span>
</code></pre></div> </div> <p>ì»¨í…Œì´ë„ˆ ëª©ë¡ì„ í™•ì¸í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker ps</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> <p>í˜„ì¬ í˜¸ìŠ¤íŠ¸ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ ì¶œë ¥í•˜ê³  ì‹¶ë‹¤ë©´ <code class="language-plaintext highlighter-rouge">-a</code> ì˜µì…˜ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.</p> </li> <li> <p>web1 ì»¨í…Œì´ë„ˆ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker create <span class="nt">--name</span> web1 httpd:latest
</code></pre></div> </div> <p>ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker create</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> <p>ìƒì„±í•  ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ì€ web1 ì´ê³  httpd:latest ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p> </li> <li> <p>os1 ì»¨í…Œì´ë„ˆ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker create <span class="nt">-it</span> <span class="nt">--name</span> os1 centos:latest 
 1457915352d8967c6a910d102481120b731329219d258144637302b321da2c3e
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">-it</code> ì˜µì…˜ì€ <code class="language-plaintext highlighter-rouge">-i</code>ì™€ <code class="language-plaintext highlighter-rouge">-t</code>ë¥¼ ë™ì‹œì— ì‚¬ìš©í•œ ê²ƒìœ¼ë¡œ í„°ë¯¸ë„ ì…ë ¥ì„ ìœ„í•´ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.</p> <p>-i, â€“interactive=false: <strong>í‘œì¤€ ì…ë ¥(stdin)ì„ í™œì„±í™”</strong>í•˜ë©° ì»¨í…Œì´ë„ˆì™€ ì—°ê²°(attach)ë˜ì–´ ìˆì§€ ì•Šë”ë¼ë„ í‘œì¤€ ì…ë ¥ì„ ìœ ì§€í•©ë‹ˆë‹¤. ë³´í†µ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ Bashì— ëª…ë ¹ì„ ì…ë ¥í•©ë‹ˆë‹¤.</p> <p>-t, â€“tty=false: <strong>TTY ëª¨ë“œ(pseudo-TTY)ë¥¼ ì‚¬ìš©</strong>í•©ë‹ˆë‹¤. <strong>Bashë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì´ ì˜µì…˜ì„ ì„¤ì •</strong>í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì˜µì…˜ì„ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ëª…ë ¹ì„ ì…ë ¥í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ì…¸ì´ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p> </li> <li> <p>web1 ì»¨í…Œì´ë„ˆ ì‹œì‘</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker start web1
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker inspect web1 | <span class="nb">grep </span>IPAddress
         <span class="s2">"SecondaryIPAddresses"</span>: null,
         <span class="s2">"IPAddress"</span>: <span class="s2">"172.17.0.2"</span>,
                 <span class="s2">"IPAddress"</span>: <span class="s2">"172.17.0.2"</span>,

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>curl 172.17.0.2
 &lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">docker create</code> ëª…ë ¹ìœ¼ë¡œ ìƒì„±í•œ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ <code class="language-plaintext highlighter-rouge">docker start</code> ëª…ë ¹ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p> <p>web1 ì´ë¦„ì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê³  <code class="language-plaintext highlighter-rouge">docker inspect</code> ëª…ë ¹ì„ í†µí•´ web1 ì»¨í…Œì´ë„ˆì˜ ip ì£¼ì†Œë¥¼ í™•ì¸í•˜ì—¬ <code class="language-plaintext highlighter-rouge">curl</code> ëª…ë ¹ì„ í†µí•´ í•´ë‹¹ ip ì£¼ì†Œì˜ ì›¹ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p> </li> <li> <p>os1 ì»¨í…Œì´ë„ˆ ì‹œì‘</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker start <span class="nt">-ai</span> os1
 <span class="o">[</span>root@1457915352d8 /]#
 <span class="o">[</span>root@1457915352d8 /]# <span class="nb">exit
 exit</span>
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker ps
 CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS               NAMES
 4a0638e6bea2        httpd:latest        <span class="s2">"httpd-foreground"</span>   10 minutes ago      Up 4 minutes        80/tcp              web1
</code></pre></div> </div> <p>ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•  ë•Œ <code class="language-plaintext highlighter-rouge">-a</code>, <code class="language-plaintext highlighter-rouge">-i</code> ì˜µì…˜ì„ ì¶”ê°€í•˜ë©´ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘ì‹œí‚¨ í›„ì— Bash í™”ë©´ì„ ì—°ê²°í•´ì¤ë‹ˆë‹¤. -a ì˜µì…˜ì˜ ì„¤ëª…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p> <p>-a, â€“attach=[]: ì»¨í…Œì´ë„ˆì— í‘œì¤€ ì…ë ¥(stdin), í‘œì¤€ ì¶œë ¥(stdout), í‘œì¤€ ì—ëŸ¬(stderr)ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.</p> </li> <li> <p>docker run ëª…ë ¹ìœ¼ë¡œ web2 ì»¨í…Œì´ë„ˆ ì‹¤í–‰</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> web2 httpd:latest
</code></pre></div> </div> <p>ì´ë¯¸ì§€ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•  ë•ŒëŠ” <code class="language-plaintext highlighter-rouge">docker run</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">-d</code> ì˜µì…˜ì˜ ì„¤ëª…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p> <p>-d, â€“detach=false: <strong>Detached ëª¨ë“œ</strong>ì…ë‹ˆë‹¤. ë³´í†µ ë°ëª¬ ëª¨ë“œë¼ê³  ë¶€ë¥´ë©° ì»¨í…Œì´ë„ˆê°€ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.</p> </li> <li> <p>os2 ì»¨í…Œì´ë„ˆ ì‹¤í–‰</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--name</span> os2 centos:latest 
 <span class="o">[</span>root@f20ddba876c2 /]#
</code></pre></div> </div> </li> <li> <p>os3 ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ë©´ì„œ hostname ëª…ë ¹ ì‹¤í–‰</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">--name</span> os3 centos:latest <span class="nb">hostname</span>
</code></pre></div> </div> <p>ìœ„ ëª…ë ¹ì–´ëŠ” os3 ì»¨í…Œì´ë„ˆì˜ hostnameì„ í•œ ë²ˆ ì¶œë ¥í•˜ê³  í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë©ë‹ˆë‹¤.</p> </li> <li> <p>os4 ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í›„ ì‚­ì œ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">--name</span> os4 <span class="nt">--rm</span> centos:latest <span class="nb">hostname</span>
</code></pre></div> </div> <p>ìœ„ ëª…ë ¹ì–´ëŠ” os4 ì»¨í…Œì´ë„ˆì˜ hostnameì„ í•œ ë²ˆ ì¶œë ¥í•˜ê³  í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œëœ í›„ì— ì»¨í…Œì´ë„ˆê°€ ì‚­ì œë©ë‹ˆë‹¤.</p> </li> <li> <p>ì»¨í…Œì´ë„ˆ ì‚­ì œ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">rm </span>os3
</code></pre></div> </div> <p>ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker rm</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> </li> <li> <p>ì‹¤í–‰ë˜ëŠ” ì»¨í…Œì´ë„ˆ ì™¸ ì „ë¶€ ì‚­ì œ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker container prune
<span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker ps <span class="nt">-a</span>
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS               NAMES
f20ddba876c2        centos:latest       <span class="s2">"/bin/bash"</span>          6 minutes ago       Up 6 minutes                            os2
60c84d29c6dc        httpd:latest        <span class="s2">"httpd-foreground"</span>   6 minutes ago       Up 6 minutes        80/tcp              web2
1457915352d8        centos:latest       <span class="s2">"/bin/bash"</span>          44 minutes ago      Up 30 minutes                           os1
4a0638e6bea2        httpd:latest        <span class="s2">"httpd-foreground"</span>   47 minutes ago      Up 41 minutes       80/tcp              web1
</code></pre></div> </div> <p>ì‹¤í–‰ë˜ëŠ” ì»¨í…Œì´ë„ˆ ì™¸ì˜ ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker container prune</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> </li> <li> <p>docker stats</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker stats 
</code></pre></div> </div> <p>ì»¨í…Œì´ë„ˆì˜ ì‹¤ì‹œê°„ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” <code class="language-plaintext highlighter-rouge">docker stats</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> </li> </ol> </li> </ul> <p><br /></p> <ul> <li> <p><strong>ì»¨í…Œì´ë„ˆ ì¤‘ì§€ ë° ì œê±°</strong></p> <ol> <li> <p>os2 ì»¨í…Œì´ë„ˆ ì¤‘ì§€</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker stop os2
</code></pre></div> </div> </li> <li> <p>os2 ì»¨í…Œì´ë„ˆ ì‚­ì œ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">rm </span>os2
</code></pre></div> </div> </li> <li> <p>ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ì‚­ì œ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">rm </span>os1 <span class="nt">-f</span>
</code></pre></div> </div> </li> </ol> </li> </ul> <p><br /></p> <ul> <li> <p><strong>ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì‹œ ìœ ìš©í•œ ì„¤ì •</strong></p> <ol> <li> <p>í™˜ê²½ë³€ìˆ˜</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--name</span> os3 <span class="nt">-e</span> <span class="s2">"LAB=docker"</span> centos:latest
 <span class="o">[</span>root@38b6ed0b4cdb /]# <span class="nb">echo</span> <span class="nv">$LAB</span>
 docker
 <span class="o">[</span>root@38b6ed0b4cdb /]# <span class="nb">exit</span>
</code></pre></div> </div> </li> <li> <p>cpu ì œí•œ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--name</span> os3 <span class="nt">--cpus</span> 0.3 centos:latest
 <span class="o">[</span>root@c2df3a13921e /]# <span class="nb">dd </span><span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/dev/null &amp;
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">--cpus 0.3</code> ëª…ë ¹ì„ í†µí•´ ì»¨í…Œì´ë„ˆì˜ cpu ì‚¬ìš©ì„ 30%ë¡œ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> </li> <li> <p>ë©”ëª¨ë¦¬ ì œí•œ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-itd</span> <span class="nt">--name</span> os5 <span class="nt">--memory</span> 1024m centos:latest
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">--memory 1024m</code> ëª…ë ¹ì„ í†µí•´ ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ 1GBë¡œ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> </li> <li> <p>ìì› ì œí•œ ë³€ê²½</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker update <span class="nt">--memory</span> 2048m os5

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker update <span class="nt">--cpus</span> 0.05 os5
 os5
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker attach os5
 <span class="o">[</span>root@50c259122bc9 /]# <span class="nb">dd </span><span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/dev/null &amp;
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">docker update</code> ëª…ë ¹ì„ í†µí•´ cpu í˜¹ì€ ë©”ëª¨ë¦¬ì˜ ì œí•œì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> </li> </ol> </li> </ul> <p><br /></p> <ul> <li> <p><strong>ì»¨í…Œì´ë„ˆ ì ‘ê·¼ ë° ì‹¤í–‰</strong></p> <ol> <li> <p>docker attach</p> <p>í‘œì¤€ ì…ë ¥, í‘œì¤€ ì¶œë ¥/ì—ëŸ¬ë¥¼ í¬í•¨í•˜ëŠ” ì»¨í…Œì´ë„ˆì— ì—°ê²°ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p> </li> <li> <p>docker exec</p> <p>ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p> </li> </ol> </li> </ul> <p><br /></p> <ul> <li> <p><strong>ì»¨í…Œì´ë„ˆ í”„ë¡œì„¸ìŠ¤ ë° ë¡œê·¸ í™•ì¸</strong></p> <p>ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <ol> <li> <p>docker top</p> <ul> <li> <p>ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ì •ë³´ë¥¼ í™•ì¸ ê°€ëŠ¥</p> </li> <li> <p>ë¦¬ëˆ…ìŠ¤ì˜ ps ì˜µì…˜ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥í•¨</p> </li> </ul> </li> <li> <p>docker logs</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> db1 mysql:5.7
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker logs db1
 2020-08-10 06:54:13+00:00 <span class="o">[</span>ERROR] <span class="o">[</span>Entrypoint]: Database is uninitialized and password option is not specified
     You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORD

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">--name</span> db2 <span class="nt">-e</span> <span class="s2">"MYSQL_ROOT_PASSWORD=1234"</span> <span class="nt">-d</span> mysql:5.7
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">docker logs</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆì˜ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> </li> </ol> </li> </ul> <p><br /></p> <ul> <li> <p><strong>ì»¨í…Œì´ë„ˆì— íŒŒì¼ ë³µì‚¬ ë° í™•ì¸</strong></p> <ol> <li> <p>docker cp</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">cp</span> /etc/passwd os5:/tmp
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">exec </span>os5 <span class="nb">ls</span> <span class="nt">-l</span> /tmp/passwd
 <span class="nt">-rw-r--r--</span><span class="nb">.</span> 1 root root 2304 Aug 10 02:15 /tmp/passwd
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">cp </span>os5:/tmp/passwd /home/user/
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> passwd
 <span class="nt">-rw-r--r--</span><span class="nb">.</span> 1 user user 2304  8ì›” 10 11:15 passwd
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">docker cp</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ í˜¸ìŠ¤íŠ¸ íŒŒì¼ì„ ì»¨í…Œì´ë„ˆë¡œ ë³µì‚¬í•˜ê±°ë‚˜ ì»¨í…Œì´ë„ˆì˜ íŒŒì¼ì„ í˜¸ìŠ¤íŠ¸ì— ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> </li> <li> <p>docker diff</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker diff os5
 C /tmp
 A /tmp/passwd
</code></pre></div> </div> <p>ì»¨í…Œì´ë„ˆì—ì„œì˜ íŒŒì¼ì˜ ë³€ê²½ ìƒíƒœë¥¼ ì²´í¬í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">docker diff</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p> <ul> <li> <p>docker diff ëª…ë ¹ìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” íŒŒì¼ì˜ ìƒíƒœ</p> <ul> <li> <p>A : íŒŒì¼ì´ ì¶”ê°€ë¨</p> </li> <li> <p>C : íŒŒì¼ì´ ë³€ê²½ë¨</p> </li> <li> <p>D : íŒŒì¼ì´ ì‚­ì œë¨</p> </li> </ul> </li> </ul> </li> </ol> </li> </ul> </li> </ul> <hr /> <h2 id="3-ë„ì»¤-ë³¼ë¥¨docker-volume---"><span style="color:purple"><strong>3. ë„ì»¤ ë³¼ë¥¨(Docker Volume)</strong></span> <a name="list3"></a></h2> <p><br /></p> <ul> <li> <p><strong>ë„ì»¤ì—ì„œ ë°ì´í„° ê´€ë¦¬</strong> <a name="list3_1"></a></p> <ul> <li> <p>ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— ìƒì„±ë˜ëŠ” ëª¨ë“  íŒŒì¼ì€ ì»¨í…Œì´ë„ˆ ë ˆì´ì–´ì— ì €ì¥ë¨</p> <ul> <li> <p>ì»¨í…Œì´ë„ˆì™€ í•¨ê»˜ ì‚­ì œë˜ëŠ” ëŸ°íƒ€ì„ ë°ì´í„°</p> </li> <li> <p>ì´ ë°ì´í„°ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ë ¤ë©´ ë°˜ë“œì‹œ ë³¼ë¥¨ì„ ì‚¬ìš©í•´ì•¼ í•¨</p> </li> </ul> </li> </ul> <p><br /></p> <ol> <li> <p>Bind Mount</p> <ul> <li> <p>ì´ˆê¸° ë„ì»¤ë¶€í„° ì‚¬ìš©í–ˆë˜ ë°©ì‹</p> </li> <li> <p><strong>í˜¸ìŠ¤íŠ¸ì˜ íŠ¹ì • ë””ë ‰í† ë¦¬ì™€ ì»¨í…Œì´ë„ˆì˜ ë””ë ‰í† ë¦¬ë¥¼ ì—°ê²°</strong>í•˜ëŠ” ë°©ì‹</p> </li> <li> <p>ë”°ë¡œ ê¸°ë¡í•˜ì§€ ì•Šìœ¼ë©´ ê´€ë¦¬í•˜ê¸° ì‰½ì§€ ì•ŠìŒ</p> </li> <li> <p>ì„±ëŠ¥ì´ ë›°ì–´ë‚˜ì§€ë§Œ í˜¸ìŠ¤íŠ¸ì˜ íŒŒì¼ ì‹œìŠ¤í…œì— ëŒ€í•œ ì˜ì¡´ë„ê°€ ë†’ìŒ</p> </li> <li> <p>í˜¸ìŠ¤íŠ¸ì˜ ë¯¼ê°í•œ íŒŒì¼ê¹Œì§€ ì ‘ê·¼í•  ìˆ˜ ìˆìŒìœ¼ë¡œ ë³´ì•ˆ ì¸¡ë©´ì˜ ë¬¸ì œê°€ ë°œìƒ ê°€ëŠ¥í•¨</p> </li> </ul> </li> <li> <p>ë³¼ë¥¨</p> <ul> <li> <p>ë„ì»¤ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ìŠ¤í† ë¦¬ì§€</p> </li> <li> <p>docker ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ìƒì„± ê°€ëŠ¥, ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ í•œêº¼ë²ˆì— ì‚­ì œ ê°€ëŠ¥</p> </li> <li> <p>ì´ë¯¸ì§€ì˜ Volumes ë¶€ë¶„ì— ì–´ë–¤ ê°’ì´ ì§€ì •ë˜ì–´ ìˆëŠ” ê²½ìš°, ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•  ë•Œ ë³¼ë¥¨ì„ ì§€ì •í•´ì•¼ í•¨</p> </li> <li> <p>ë‹¤ì–‘í•œ ë“œë¼ì´ë²„ë¥¼ ì§€ì›</p> </li> </ul> </li> </ol> </li> </ul> <p><br /></p> <ul> <li> <p><strong>Bind Mount ì‚¬ìš©</strong> <a name="list3_2"></a></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">mkdir</span> ~/bm1
  <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">touch</span> ~/bm1/fileA.txt

  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-dit</span> <span class="nt">--name</span> os3 <span class="nt">-v</span> ~/bm1:/tmp/mount centos:latest

  <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">exec </span>os3 <span class="nb">ls</span> <span class="nt">-l</span> /tmp/mount
  total 0
  <span class="nt">-rw-rw-r--</span><span class="nb">.</span> 1 1000 1000 0 Aug 10 07:23 fileA.txt

  <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-i</span>
  <span class="o">[</span>root@docker ~]# <span class="nb">cd</span> /var/lib/docker/volumes/
  <span class="o">[</span>root@docker volumes]# <span class="nb">ls</span> <span class="nt">-l</span>
</code></pre></div> </div> </li> </ul> <p><br /></p> <ul> <li> <p><strong>ë³¼ë¥¨ ì‚¬ìš© ì‹¤ìŠµ</strong> <a name="list3_3"></a></p> <ol> <li> <p>vol1 ë³¼ë¥¨ ìƒì„±</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker volume create vol1
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker inspect vol1 
 <span class="o">[</span>
     <span class="o">{</span>
         <span class="s2">"CreatedAt"</span>: <span class="s2">"2020-08-18T16:28:04+09:00"</span>,
         <span class="s2">"Driver"</span>: <span class="s2">"local"</span>,
         <span class="s2">"Labels"</span>: <span class="o">{}</span>,
         <span class="s2">"Mountpoint"</span>: <span class="s2">"/var/lib/docker/volumes/vol1/_data"</span>,
         <span class="s2">"Name"</span>: <span class="s2">"vol1"</span>,
         <span class="s2">"Options"</span>: <span class="o">{}</span>,
         <span class="s2">"Scope"</span>: <span class="s2">"local"</span>
     <span class="o">}</span>
 <span class="o">]</span>

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-i</span>
 <span class="o">[</span>root@docker ~]# <span class="nb">cd</span> /var/lib/docker/volumes/
 <span class="o">[</span>root@docker volumes]# <span class="nb">ls</span>
</code></pre></div> </div> </li> <li> <p>vol1 ë³¼ë¥¨ì„ os4ì˜ /tmp/volumeì— ì—°ê²°</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-itd</span> <span class="nt">--name</span> os4 <span class="nt">-v</span> vol1:/tmp/volume centos:latest

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">exec </span>os4 <span class="nb">ls</span> <span class="nt">-l</span> /tmp/volume
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker <span class="nb">exec </span>os4 <span class="nb">touch</span> /tmp/volume/fileB.txt

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-i</span>
 <span class="o">[</span>root@docker ~]# <span class="nb">cd</span> /var/lib/docker/volumes/vol1/_data/
 <span class="o">[</span>root@docker _data]# <span class="nb">ls
 </span>fileB.txt

 <span class="o">[</span>root@docker _data]# <span class="nb">exit
 logout</span>
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker attach os4
 <span class="o">[</span>root@f083223357e9 /]# <span class="nb">cd</span> /tmp/volume/
 <span class="o">[</span>root@f083223357e9 volume]# <span class="nb">ls</span> <span class="nt">-l</span>
 total 0
 <span class="nt">-rw-r--r--</span><span class="nb">.</span> 1 root root 0 Aug 10 07:31 fileB.txt
 <span class="o">[</span>root@f083223357e9 volume]# <span class="nb">cat</span> <span class="o">&gt;</span> index.html
 Hello World!

 <span class="o">[</span>root@f083223357e9 volume]# <span class="nb">read </span>escape sequence <span class="o">(</span>Ctrl + p + q<span class="o">)</span>
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> web3 <span class="nt">-v</span> vol1:/usr/local/apache2/htdocs

 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> web3 <span class="nt">-v</span> vol1:/usr/local/apache2/htdocs:ro httpd:latest
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>docker inspect web3 | <span class="nb">grep</span> <span class="nt">-i</span> ipaddress
             <span class="s2">"SecondaryIPAddresses"</span>: null,
             <span class="s2">"IPAddress"</span>: <span class="s2">"172.17.0.7"</span>,
                     <span class="s2">"IPAddress"</span>: <span class="s2">"172.17.0.7"</span>,
 <span class="o">[</span>user@docker ~]<span class="nv">$ </span>curl 172.17.0.7
 Hello World! 
</code></pre></div> </div> <p><br /></p> </li> </ol> </li> </ul> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">son</button> <button class="btn btn-white btn-xs" type="button">blog</button> <button class="btn btn-white btn-xs" type="button">infra</button> <button class="btn btn-white btn-xs" type="button">docker</button> <button class="btn btn-white btn-xs" type="button">image</button> <button class="btn btn-white btn-xs" type="button">container</button> <button class="btn btn-white btn-xs" type="button">volume</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> <i class="fa fa-comments-o"> </i> <span class="disqus-comment-count" data-disqus-url="http://192.168.116.128:4000/backup/2020-09-01-docker2.html">0</span> comments </div> </div> </div> </div> <div class="PageNavigation"> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */ /* var disqus_config = function () { this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable }; */ (function() { var d = document, s = d.createElement('script'); s.src = '//son.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-93473370-3', 'auto'); ga('require', ''); ga('send', 'pageview'); </script> <!-- GrowingIO --> <script id="dsq-count-scr" src="https://son.disqus.com/count.js" async></script> </body> </html>
