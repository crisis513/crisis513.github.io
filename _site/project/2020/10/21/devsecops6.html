<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta content="[Project] DevSecOps 프로젝트 - SAST 분석 및 활용" name="description"> <meta name="keywords" content="son,blog,project,devsecops,devops,gcp,jenkins,sast"> <meta name="author" content="son"> <meta name="baseurl" content=""> <title> son | [Project] DevSecOps 프로젝트 - SAST 분석 및 활용 </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20200311.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20200311.min.js"></script> <script src="/static/assets/blog-20200311.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184620200311", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">son</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">All</a></li> <li> <a class="page-scroll" href="/project/">Project</a></li> <li> <a class="page-scroll" href="/thesis/">Thesis</a></li> <li> <a class="page-scroll" href="/patent/">Patent</a></li> </ul> </div> </div> </nav> </div> <div id="inSlider" class="carousel carousel-fade" data-ride="carousel"> <ol class="carousel-indicators"> <li data-target="#inSlider" data-slide-to="0" class="active"></li> <li data-target="#inSlider" data-slide-to="1"></li> <li data-target="#inSlider" data-slide-to="2"></li> </ol> <div class="carousel-inner" role="listbox"> <div class="item active"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_one.jpg);" title="first banner image"> </div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_two.jpg);" title="second banner image"></div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_three.jpg);" title="third banner image"></div> </div> </div> <a class="left carousel-control" href="#inSlider" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#inSlider" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/project">Project</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 21 Oct 2020</span> <h1> [Project] DevSecOps 프로젝트 - SAST 분석 및 활용 </h1> </div> <p>본 프로젝트는 클라우드컴퓨팅연구조합(CCCR)에서 클라우드 네이티브 환경에서 DevSecOps 툴 체인 파이프라인을 구축하는 프로젝트입니다.</p> <p>9월에 시작하여 11월 27일까지 진행되고 현재 진행 중이며, 내용이 긴 만큼 여러 포스트를 나눠 기록하고자 합니다.</p> <blockquote> <p><strong>본 포스트의 내용은 프로젝트 도중 작성되어 추후 변경될 수 있음을 알립니다.</strong></p> </blockquote> <hr /> <h2 id="목차">목차</h2> <p><a href="#list1">1. DevSecOps 툴체인 보안 점검 리스트</a></p> <p><a href="#list1_1">   1.1. SANS DevSecOps Best Practice</a></p> <p><a href="#list1_2">   1.2. Pre-Commit 단계</a></p> <p><a href="#list1_3">   1.3. Commit 단계</a></p> <p><a href="#list2">2. SAST(Static Application Security Testing) 적용</a></p> <p><a href="#list2_1">   2.1. OWASP Dependency Check</a></p> <p><a href="#list2_2">   2.2. SpotBugs</a></p> <p><a href="#list2_3">   2.3. CheckStyle</a></p> <p><a href="#list2_4">   2.4. PMD(Programing Mistake Detector)</a></p> <p><a href="#list2_5">   2.5. SonarQube</a></p> <p><a href="#list2_6">   2.6. Anchore</a></p> <p><br /></p> <hr /> <h2 id="1-devsecops-툴체인-보안-점검-리스트---"><span style="color:purple"><strong>1. DevSecOps 툴체인 보안 점검 리스트</strong></span> <a name="list1"></a></h2> <p><br /></p> <ul> <li> <p><strong>SANS DevSecOps Best Practice</strong> <a name="list1_1"></a></p> <p>SANS 연구소(SANS Institute)는 교육에서 보안 인증 정보 소스를 보유하고 있으며 사이버 및 네트워크 방어, 침투 테스트, 사고 대응, 디지털 포렌식 등 보안 교육에 있어 국제적으로 가장 높은 신뢰를 받는 보안 기관입니다.</p> <p>이러한 SANS 연구소에서 DevSecOps 도구들을 분류 및 정리하여 발표한 <a href="http://sans.org/u/zAi">Secure DevOps Toolchain and SWAT checklist</a> 자료를 토대로 DevSecOps 파이프라인에서 정적 분석할 도구를 선정할 것입니다.</p> <p>도구 선정은 앞선 포스팅을 통해 구축된 DevOps 파이프라인에 쉽게 연결할 수 있고, 자동화되어 정적 분석 및 동적 분석을 수행할 수 있는 보안 도구를 선택하였습니다.</p> <p><br /></p> </li> <li> <p><strong>Pre-Commit 단계</strong> <a name="list1_2"></a></p> <p>먼저 DevSecOps 파이프라인의 첫 번째 단계인 Pre-Commit 단계에서는 개발자가 코드를 GitLab과 같은 SCM에 Commit 되기 전에 완료해야하는 단계입니다.</p> <p>다음 [그림 1]은 SANS 연구소에서 정리한 Pre-Commit 단계에서 사용할 수 있는 보안 도구들을 정리한 것입니다.</p> <table> <thead> <tr> <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_6_1.png" alt="pre_commit_security_tool" width="758" height="273" /></th> </tr> </thead> <tbody> <tr> <td style="text-align: center">[그림 1] Pre-Commit 단계의 보안 도구</td> </tr> </tbody> </table> <p><br /></p> <p>Pre-Commit 단계는 VSCode와 같은 IDE(Integrated Development Environment)에 보안 도구들을 플러그인으로 추가하여 개발자가 코드를 작성 및 실행하면서 보안을 검사합니다.</p> <p>앞선 포스팅에서 구성한 DevOps 파이프라인은 GitLab에 푸시하는 이벤트로 인해 실행되는데, Pre-Commit 단계는 푸시 이전에 수행되는 작업이기 때문에 DevSecOps 파이프라인에 추가할 도구는 없습니다.</p> <p><br /></p> </li> <li> <p><strong>Commit 단계</strong> <a name="list1_3"></a></p> <p>다음으로 코드를 컴파일하고 빌드하는 과정에서 정적 분석을 수행해야 하는 Commit 단계입니다.</p> <p>[그림 2]는 SANS 연구소에서 정리한 Commit 단계에서 사용할 수 있는 보안 도구들을 정리한 것입니다.</p> <table> <thead> <tr> <th style="text-align: center"><img src="/static/assets/img/landing/project/devsecops_6_2.png" alt="commit_security_tool" width="714" height="308" /></th> </tr> </thead> <tbody> <tr> <td style="text-align: center">[그림 2] Commit 단계의 보안 도구</td> </tr> </tbody> </table> <p><br /></p> <p>Commit 단계는 빌드하고 테스트하는 과정에서 파이프라인의 보안 취약점을 찾기 위해 소스 코드 파일들을 스캔합니다.</p> <p>검사할 소스 코드의 언어에 따라 사용되는 도구들은 달라질 수 있습니다.</p> <p>본 프로젝트에서는 Java 기반의 웹 서비스에 보안을 적용해볼 것이고, 정적 분석에 사용할 도구들은 다음과 같습니다.</p> <ol> <li> <p>OWASP Dependency Check</p> <p>프로젝트의 종속성을 검사하고, 공개적으로 공개 된 취약점을 탐지하는 소프트웨어 구성 분석 도구입니다.</p> <p>지정된 종속성에 대한 CPE(Common Platform Enumeration) 식별자가 있는지를 확인하고, 발견되면 관련 CVE 항목에 연결되는 보고서를 생성해줍니다.</p> <p>Jenkins와 Maven 플러그인이 존재하여 연동하기 쉽습니다.</p> </li> <li> <p>SpotBugs</p> <p>정적 분석 도구로 사용되는 FindBugs가 이제는 SpotBugs로 바뀌어 사용되고 있습니다.</p> <blockquote> <p>관련 내용은 <a href="https://github.com/findbugsproject/findbugs/blob/master/README.md">FindBugs README</a>에서 확인할 수 있습니다.</p> </blockquote> <p>제한된 룰셋(Rule Set)으로 정적 분석을 수행하여 결함을 확인하고 생성된 보고서를 확인할 수 있습니다.</p> </li> <li> <p>CheckStyle</p> <p>코딩 스타일 규칙을 정의하여 체크해줌으로써 코딩 스타일 통일할 수 있도록 도와줍니다.</p> <p>프로젝트 완료 후 유지보수할 떄 생겨나는 많은 문제중 하나가 많은 프로그래머들이 각자의 취향에 따라 변수명, 메소드명, 작성법등이 다르기 때문에 문제가 발생할 수 있는데 이러한 문제를 해결하기 위해 만들어졌습니다.</p> <p>[그림 2]에 보이는 SANS 연구소의 자료에는 CheckStyle이 없지만 SpotBugs와 더불어 PMD와도 같이 정적 분석 도구로 많이 쓰이고 있어 사용해보았습니다.</p> </li> <li> <p>PMD(Programing Mistake Detector)</p> <p>SpotBugs와 마찬가지로 응용 프로그램에서 Java 소스를 정적 분석하여 발견된 문제를 보고해줍니다.</p> <p>문법적으로 오류 가능성이 높은 항목들을 체크해서 알려줍니다.</p> </li> <li> <p>SonarQube</p> </li> <li> <p>Anchore</p> </li> </ol> <p><br /></p> </li> </ul> <hr /> <h2 id="2-saststatic-application-security-testing-적용---"><span style="color:purple"><strong>2. SAST(Static Application Security Testing) 적용</strong></span> <a name="list2"></a></h2> <p><br /></p> <ul> <li> <p><strong>OWASP Dependency Check</strong> <a name="list2_1"></a></p> <p><br /></p> </li> <li> <p><strong>SpotBugs</strong> <a name="list2_2"></a></p> <p><br /></p> </li> <li> <p><strong>CheckStyle</strong> <a name="list2_3"></a></p> <p><br /></p> </li> <li> <p><strong>PMD(Programing Mistake Detector)</strong> <a name="list2_4"></a></p> <p><br /></p> </li> <li> <p><strong>SonarQube</strong> <a name="list2_5"></a></p> <p><br /></p> </li> <li> <p><strong>Anchore</strong> <a name="list2_6"></a></p> <p><br /></p> </li> </ul> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">son</button> <button class="btn btn-white btn-xs" type="button">blog</button> <button class="btn btn-white btn-xs" type="button">project</button> <button class="btn btn-white btn-xs" type="button">devsecops</button> <button class="btn btn-white btn-xs" type="button">devops</button> <button class="btn btn-white btn-xs" type="button">gcp</button> <button class="btn btn-white btn-xs" type="button">jenkins</button> <button class="btn btn-white btn-xs" type="button">sast</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> <i class="fa fa-comments-o"> </i> <span class="disqus-comment-count" data-disqus-url="http://localhost:4000/project/2020/10/21/devsecops6.html">0</span> comments </div> </div> </div> </div> <div class="PageNavigation"> <a class="prev" href="/project/2020/10/15/devsecops5.html">&laquo; [Project] DevSecOps 프로젝트 - Jenkins와 Slack 연동 그리고 멀티 브랜치 파이프라인의 사용</a> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */ /* var disqus_config = function () { this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable }; */ (function() { var d = document, s = d.createElement('script'); s.src = '//son.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-93473370-3', 'auto'); ga('require', ''); ga('send', 'pageview'); </script> <!-- GrowingIO --> <script id="dsq-count-scr" src="https://son.disqus.com/count.js" async></script> </body> </html>
