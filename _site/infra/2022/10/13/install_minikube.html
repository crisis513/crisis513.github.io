<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta content="[Infra] Ubuntu 22.04 í™˜ê²½ì—ì„œ Minikube ì„¤ì¹˜í•˜ê¸°" name="description"> <meta name="keywords" content="son,blog,infra,docker,minikube,kubectl,kubernetes"> <meta name="author" content="son"> <meta name="baseurl" content=""> <title> son | [Infra] Ubuntu 22.04 í™˜ê²½ì—ì„œ Minikube ì„¤ì¹˜í•˜ê¸° </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20200311.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20200311.min.js"></script> <script src="/static/assets/blog-20200311.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184620200311", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">son</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">All</a></li> <li> <a class="page-scroll" href="/project/">Project</a></li> <li> <a class="page-scroll" href="/research/">Research</a></li> <li> <a class="page-scroll" href="/troubleshooting/">Troubleshooting</a></li> <li> <a class="page-scroll" href="/infra/">Infra</a></li> <li> <a class="page-scroll" href="/data/">Data</a></li> <li> <a class="page-scroll" href="/anything/">Anything</a></li> </ul> </div> </div> </nav> </div> <div id="inSlider" class="carousel carousel-fade" data-ride="carousel"> <ol class="carousel-indicators"> <li data-target="#inSlider" data-slide-to="0" class="active"></li> <li data-target="#inSlider" data-slide-to="1"></li> <li data-target="#inSlider" data-slide-to="2"></li> </ol> <div class="carousel-inner" role="listbox"> <div class="item active"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_one.jpg);" title="han-gi's blog"> </div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_two.jpg);" title="han-gi's blog"></div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_three.jpg);" title="han-gi's blog"></div> </div> </div> <a class="left carousel-control" href="#inSlider" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#inSlider" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/infra">Infra</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 13 Oct 2022</span> <h1> [Infra] Ubuntu 22.04 í™˜ê²½ì—ì„œ Minikube ì„¤ì¹˜í•˜ê¸° </h1> </div> <div class="ksJIXb"> <div class="ikVqUi"> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#ê°œìš”">ê°œìš”</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#1-ë‚´-ì§ˆë¬¸ì—ëŠ”-ì™œ-ë‹µë³€ì—-ë‹¬ë¦¬ì§€-ì•Šì„ê¹Œ---ê°œë°œìê°€-ì§ˆë¬¸í•˜ëŠ”-ë²•">1. ë‚´ ì§ˆë¬¸ì—ëŠ” ì™œ ë‹µë³€ì— ë‹¬ë¦¬ì§€ ì•Šì„ê¹Œ? - ê°œë°œìê°€ ì§ˆë¬¸í•˜ëŠ” ë²•</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#1-ì§ˆë¬¸ì„-í•˜ê¸°-ì „ì—-í•´ì•¼-í• -ê²ƒë“¤">1) ì§ˆë¬¸ì„ í•˜ê¸° ì „ì— í•´ì•¼ í•  ê²ƒë“¤</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#2-ì´ì œ-ê²€ìƒ‰í•´ë³´ì">2) ì´ì œ ê²€ìƒ‰í•´ë³´ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#3-ê·¸ë˜ë„-í•´ê²°ì´-ì•ˆ-ë˜ì—ˆìœ¼ë©´-ì§ˆë¬¸ì„-í•˜ì">3) ê·¸ë˜ë„ í•´ê²°ì´ ì•ˆ ë˜ì—ˆìœ¼ë©´ ì§ˆë¬¸ì„ í•˜ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#2-ì§ˆë¬¸ì„-ì˜í•˜ëŠ”-ê°œë°œì">2. ì§ˆë¬¸ì„ ì˜í•˜ëŠ” ê°œë°œì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#1-ì¶©ë¶„í•œ-êµ¬ê¸€ë§ì„-ìš°ì„ -ì„ í–‰í•˜ì">1) ì¶©ë¶„í•œ êµ¬ê¸€ë§ì„ ìš°ì„  ì„ í–‰í•˜ì</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#2-ë™ë£Œì˜-ì‹œê°„ì„-ë‚­ë¹„í•˜ì§€-ë§ìì§ˆë¬¸-ì •ë¦¬í•´ì•¼-í•˜ëŠ”-ì´ìœ ">2) ë™ë£Œì˜ ì‹œê°„ì„ ë‚­ë¹„í•˜ì§€ ë§ì(ì§ˆë¬¸ ì •ë¦¬í•´ì•¼ í•˜ëŠ” ì´ìœ )</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#3-ì§ˆë¬¸-ì •ë¦¬í•˜ê¸°">3) ì§ˆë¬¸ ì •ë¦¬í•˜ê¸°</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 24px;"><a href="#4-í•œ-ê±¸ìŒ-ë”-ë‚˜ì•„ê°€ì„œ">4) í•œ ê±¸ìŒ ë” ë‚˜ì•„ê°€ì„œ!</a></div> <div class="sc-fXEqDS bXGcfF" style="margin-left: 0px;"><a href="#-íšŒê³ ">ğŸ¹ íšŒê³ </a></div> </div> </div> <p>ë³¸ í¬ìŠ¤íŒ…ì—ì„œëŠ” Ubuntu 22.04 í™˜ê²½ì—ì„œ minikubeë¥¼ ì„¤ì¹˜í•˜ëŠ” ê³¼ì •ì„ ì„¤ëª…í•œë‹¤.</p> <hr /> <h2 id="ëª©ì°¨">ëª©ì°¨</h2> <p><a href="#list1">1. ê°œìš”</a></p> <p><a href="#list1_1">Â Â  1.1. Minikubeë€?</a></p> <p><a href="#list1_2">Â Â  1.2. ê°œë°œ í™˜ê²½</a></p> <p><a href="#list2">2. Docker ì„¤ì¹˜</a></p> <p><a href="#list3">3. Minikube ì„¤ì¹˜ ê³¼ì •</a></p> <p><a href="#list3_1">Â Â  3.1. Minikube ì„¤ì¹˜</a></p> <p><a href="#list3_2">Â Â  3.2. kubectl ì„¤ì¹˜</a></p> <p><a href="#list3_3">Â Â  3.3. Minikube ì‹¤í–‰ ë° ì¢…ë£Œ</a></p> <hr /> <h2 id="1-ê°œìš”-"><span style="color:purple"><strong>1. ê°œìš”</strong></span> <a name="list1"></a></h2> <p><br /></p> <h3 id="11-minikubeë€-">1.1. minikubeë€? <a name="list1_1"></a></h3> <p>minikubeëŠ” ë‹¤ì–‘í•œ OSì—ì„œ ë¡œì»¬ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” <strong>ì˜¤í”ˆ ì†ŒìŠ¤ ë„êµ¬</strong>ì´ë‹¤. minikubeì˜ ì£¼ìš” ëª©í‘œëŠ” ë¡œì»¬ Kubernetes ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•œ ë„êµ¬ë“¤ê³¼ ê·¸ì— ë§ëŠ” ëª¨ë“  <strong>Kubernetes ê¸°ëŠ¥ì„ ì§€ì›</strong>í•˜ëŠ” ê²ƒì´ë‹¤. ë¡œì»¬ì—ì„œ ë¦¬ì†ŒìŠ¤ í™œìš©ì´ ì ì€ ë‹¨ì¼ ë…¸ë“œ kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ë™ì‹œí‚¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê°œë°œ í…ŒìŠ¤íŠ¸ ë° POC ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ë‹¤.</p> <p>ìì„¸í•œ ì„¤ëª…ì€ <a href="https://minikube.sigs.k8s.io/docs" title="minikube">minikube ì›¹ì‚¬ì´íŠ¸</a>ë¥¼ í†µí•´ í™•ì¸í•˜ê¸° ë°”ë€ë‹¤.</p> <p><br /></p> <h3 id="12-ê°œë°œ-í™˜ê²½-">1.2. ê°œë°œ í™˜ê²½ <a name="list1_2"></a></h3> <p>í•„ìëŠ” ì‹¤ìŠµì„ ìœ„í•´ <strong>VMWare Workstation 16.2</strong>ì—ì„œ <strong>Ubuntu 22.04 LTS Desktop</strong> ì´ë¯¸ì§€ë¡œ ê°€ìƒë¨¸ì‹ ì„ ìƒì„±í•˜ì—¬ ì§„í–‰í•˜ì˜€ë‹¤. í•´ë‹¹ í™˜ê²½ì—ì„œ <strong>Docker</strong>ë¥¼ ì„¤ì¹˜í•˜ê³ , <strong>minikube</strong>ì—ì„œ ë“œë¼ì´ë²„ë¡œ Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ Kubernetes êµ¬ì„± ìš”ì†Œë¥¼ ì—¬ê¸°ì— ì„¤ì¹˜í•´ë³¼ ì˜ˆì •ì´ë‹¤.</p> <p><br /></p> <h2 id="2-docker-ì„¤ì¹˜-"><span style="color:purple"><strong>2. Docker ì„¤ì¹˜</strong></span> <a name="list2"></a></h2> <p>minikubeë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ì„œëŠ” ë“œë¼ì´ë²„ë¥¼ ì„¤ì •í•´ì£¼ì–´ì•¼ í•˜ëŠ”ë°, minikubeëŠ” virtualboxì™€ ê°™ì€ VM, Dockerì™€ ê°™ì€ ì»¨í…Œì´ë„ˆ ë˜ëŠ” ë² ì–´ë©”íƒˆ ë“± ë‹¤ì–‘í•œ ë“œë¼ì´ë²„ë¥¼ ì§€ì›í•˜ê³  ìˆë‹¤. ì´ ì¤‘ì—ì„œ ë³¸ í¬ìŠ¤íŒ…ì—ì„œëŠ” Dockerë¥¼ ë“œë¼ì´ë²„ë¡œ ì‚¬ìš©í•˜ì—¬ ì§„í–‰í•  ê²ƒì´ë‹¤.</p> <p>Dockerë¥¼ ì„¤ì¹˜í•˜ê¸° ì „ì— ëª¨ë“  ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ë¥¼ ìµœì‹  ë¦´ë¦¬ìŠ¤ë¡œ ì—…ë°ì´íŠ¸ í•´ì•¼í•œë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo </span>apt update
son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>apt-transport-https
son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo </span>apt upgrade
</code></pre></div></div> <p>í˜¹ì‹œë‚˜ ì¬ë¶€íŒ…ì´ í•„ìš”í•œ ê²½ìš° ì¬ë¶€íŒ…ì„ í•˜ê³ ë‚œ ë‹¤ìŒ ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ë©´ ëœë‹¤.</p> <p>DockerëŠ” <code class="language-plaintext highlighter-rouge">get.docker.com</code>ì—ì„œ ì§€ì›í•˜ëŠ” <strong>ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìš´ë°›ì•„ ì‹¤í–‰</strong>í•´ì£¼ê¸°ë§Œ í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— ê°„ë‹¨í•˜ê²Œ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>son@son-localhost ~ <span class="nv">$ </span>curl <span class="nt">-fsSL</span> https://get.docker.com <span class="nt">-o</span> get-docker.sh
son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo </span>sh get-docker.sh
<span class="c"># Executing docker install script, commit: 4f282167c425347a931ccfd95cc91fab041d414f</span>
+ sh <span class="nt">-c</span> apt-get update <span class="nt">-qq</span> <span class="o">&gt;</span>/dev/null
+ sh <span class="nt">-c</span> <span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="nt">-qq</span> apt-transport-https ca-certificates curl <span class="o">&gt;</span>/dev/null
+ sh <span class="nt">-c</span> <span class="nb">mkdir</span> <span class="nt">-p</span> /etc/apt/keyrings <span class="o">&amp;&amp;</span> <span class="nb">chmod</span> <span class="nt">-R</span> 0755 /etc/apt/keyrings
+ sh <span class="nt">-c</span> curl <span class="nt">-fsSL</span> <span class="s2">"https://download.docker.com/linux/ubuntu/gpg"</span> | gpg <span class="nt">--dearmor</span> <span class="nt">--yes</span> <span class="nt">-o</span> /etc/apt/keyrings/docker.gpg
+ sh <span class="nt">-c</span> <span class="nb">chmod </span>a+r /etc/apt/keyrings/docker.gpg
+ sh <span class="nt">-c</span> <span class="nb">echo</span> <span class="s2">"deb [arch=amd64 signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu jammy stable"</span> <span class="o">&gt;</span> /etc/apt/sources.list.d/docker.list
+ sh <span class="nt">-c</span> apt-get update <span class="nt">-qq</span> <span class="o">&gt;</span>/dev/null
+ sh <span class="nt">-c</span> <span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="nt">-qq</span> <span class="nt">--no-install-recommends</span> docker-ce docker-ce-cli containerd.io docker-compose-plugin docker-scan-plugin <span class="o">&gt;</span>/dev/null
+ version_gte 20.10
+ <span class="o">[</span> <span class="nt">-z</span>  <span class="o">]</span>
+ <span class="k">return </span>0
+ sh <span class="nt">-c</span> <span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="nt">-qq</span> docker-ce-rootless-extras <span class="o">&gt;</span>/dev/null
+ sh <span class="nt">-c</span> docker version
Client: Docker Engine - Community
  Version:           20.10.18
  API version:       1.41
  Go version:        go1.18.6
  Git commit:        b40c2f6
  Built:             Thu Sep  8 23:11:43 2022
  OS/Arch:           linux/amd64
  Context:           default
  Experimental:      <span class="nb">true

</span>Server: Docker Engine - Community
  Engine:
  Version:          20.10.18
  API version:      1.41 <span class="o">(</span>minimum version 1.12<span class="o">)</span>
  Go version:       go1.18.6
  Git commit:       e42327a
  Built:            Thu Sep  8 23:09:30 2022
  OS/Arch:          linux/amd64
  Experimental:     <span class="nb">false
  </span>containerd:
  Version:          1.6.8
  GitCommit:        9cd3357b7fd7218e4aec3eae239db1f68a5a6ec6
  runc:
  Version:          1.1.4
  GitCommit:        v1.1.4-0-g5fd4c4d
  docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0

<span class="o">================================================================================</span>

To run Docker as a non-privileged user, consider setting up the
Docker daemon <span class="k">in </span>rootless mode <span class="k">for </span>your user:

    dockerd-rootless-setuptool.sh <span class="nb">install

</span>Visit https://docs.docker.com/go/rootless/ to learn about rootless mode.

To run the Docker daemon as a fully privileged service, but granting non-root
<span class="nb">users </span>access, refer to https://docs.docker.com/go/daemon-access/

WARNING: Access to the remote API on a privileged Docker daemon is equivalent
          to root access on the host. Refer to the <span class="s1">'Docker daemon attack surface'</span>
          documentation <span class="k">for </span>details: https://docs.docker.com/go/attack-surface/

<span class="o">================================================================================</span>
</code></pre></div></div> <p>get-docker.shë€ ì´ë¦„ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìš´ë°›ì•„ ì‹¤í–‰í•´ì£¼ì–´ Dockerë¥¼ ì„¤ì¹˜í•˜ê³  ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ Docker ì–´ëŠ ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ê² ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>son@son-localhost ~ <span class="nv">$ </span>docker <span class="nt">--version</span>
Docker version 20.10.18, build b40c2f6
</code></pre></div></div> <p>Dockerê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ê°€ ë˜ê¸´ í–ˆì§€ë§Œ, í˜„ì¬ ìƒíƒœë¡œ minikubeì—ì„œ Dockerë¥¼ ë“œë¼ì´ë²„ë¡œ ì„¤ì •í•˜ì—¬ ì„¤ì¹˜í•  ë•Œ permission denied ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë‹¤. ì—ëŸ¬ë¥¼ ì‚¬ì „ì— ë°©ì§€í•˜ê¸° ìœ„í•´ Dockerë¥¼ ì¼ë°˜ ìœ ì €ë„ ì“¸ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ì£¼ê² ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="nv">$USER</span> <span class="o">&amp;&amp;</span> newgrp docker
</code></pre></div></div> <p>ì¶”ê°€ë¡œ docker-composeë¥¼ ì‚¬ìš©í•  ê²ƒì´ë¼ë©´ ë‹¤ìŒ ëª…ë ¹ì„ í†µí•´ docker-composeë¥¼ ì„¤ì¹˜í•  ìˆ˜ë„ ìˆë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>docker-compose
son@son-localhost ~ <span class="nv">$ </span>docker-compose <span class="nt">--version</span>
docker-compose version 1.29.2, build unknown
</code></pre></div></div> <p><br /></p> <h2 id="3-minikube-ì„¤ì¹˜-ê³¼ì •-"><span style="color:purple"><strong>3. Minikube ì„¤ì¹˜ ê³¼ì •</strong></span> <a name="list3"></a></h2> <p>ìœ„ì˜ ê³¼ì •ì„ í†µí•´ Dockerë¥¼ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜í•˜ì˜€ë‹¤ë©´ ë‹¤ìŒìœ¼ë¡œ minikubeë¥¼ ì„¤ì¹˜í•˜ê² ë‹¤.</p> <p><br /></p> <h3 id="31-minikube-ì„¤ì¹˜-">3.1. Minikube ì„¤ì¹˜ <a name="list3_1"></a></h3> <p>minikubeë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ì„œëŠ” <strong>minikube ë°”ì´ë„ˆë¦¬ë¥¼ ë‹¤ìš´ë¡œë“œ</strong>í•´ì•¼ í•œë‹¤. ë°”ì´ë„ˆë¦¬ë¥¼ ë‹¤ìš´ë°›ì•„ <strong>ì‹¤í–‰ ê¶Œí•œì„ ì¤€ ë‹¤ìŒ /usr/local/bin ë””ë ‰í† ë¦¬ ì•„ë˜ì— ë„£ì„ ê²ƒ</strong>ì´ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  son@son-localhost ~ <span class="nv">$ </span>wget https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
  <span class="nt">--2022-10-13</span> 04:03:24--  https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
  Resolving storage.googleapis.com <span class="o">(</span>storage.googleapis.com<span class="o">)</span>... 34.64.4.112, 34.64.4.80, 34.64.4.16, ...
  Connecting to storage.googleapis.com <span class="o">(</span>storage.googleapis.com<span class="o">)</span>|34.64.4.112|:443... connected.
  HTTP request sent, awaiting response... 200 OK
  Length: 76629407 <span class="o">(</span>73M<span class="o">)</span> <span class="o">[</span>application/octet-stream]
  Saving to: â€˜minikube-linux-amd64â€™
  
  minikube-linux-amd64        100%[<span class="o">===========================================&gt;]</span>  73.08M  5.17MB/s    <span class="k">in </span>13s
  
  2022-10-13 04:03:38 <span class="o">(</span>5.72 MB/s<span class="o">)</span> - â€˜minikube-linux-amd64â€™ saved <span class="o">[</span>76629407/76629407]
  
  son@son-localhost ~ <span class="nv">$ </span><span class="nb">chmod</span> +x minikube-linux-amd64
  son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo mv </span>minikube-linux-amd64 /usr/local/bin/minikube
</code></pre></div></div> <p>minikube ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ /usr/local/bin ë””ë ‰í† ë¦¬ ì•„ë˜ì— ë‘ì—ˆë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„¤ì¹˜ëœ minikube ë²„ì „ì„ í™•ì¸í•´ë³´ê² ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  son@son-localhost ~ <span class="nv">$ </span>minikube version
  minikube version: v1.27.1
  commit: fe869b5d4da11ba318eb84a3ac00f336411de7ba
</code></pre></div></div> <blockquote> <p>í˜¹ì‹œë‚˜ minikubeê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ $PATHì— /usr/local/binì´ ì—†ê¸° ë•Œë¬¸ì¼ ê²ƒì´ë‹¤. ë‹¤ë¥¸ $PATHë¡œ ìœ„ì¹˜ë¥¼ ì˜®ê¸°ê±°ë‚˜ $PATHì— /usr/local/bin ìœ„ì¹˜ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.</p> </blockquote> <p><br /></p> <h3 id="32-kubectl-ì„¤ì¹˜-">3.2. kubectl ì„¤ì¹˜ <a name="list3_2"></a></h3> <p>minikubeë¥¼ ì„¤ì¹˜í•˜ë”ë¼ë„ <strong>Kubernetesì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ì¸ kubectl</strong>ì„ ë”°ë¡œ ì„¤ì¹˜í•´ì•¼ í•œë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ kubectl ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ë‹¤ìš´ë°›ì•„ ì‹¤í–‰ê¶Œí•œì„ ì¤€ ë‹¤ìŒ /usr/local/bin ìœ„ì¹˜ë¡œ ì˜®ê²¨ì£¼ì.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  son@son-localhost ~ <span class="nv">$ </span>curl <span class="nt">-LO</span> https://storage.googleapis.com/kubernetes-release/release/<span class="sb">`</span>curl <span class="nt">-s</span> https://storage.googleapis.com/kubernetes-release/release/stable.txt<span class="sb">`</span>/bin/linux/amd64/kubectl
    % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                    Dload  Upload   Total   Spent    Left  Speed
  100 42.9M  100 42.9M    0     0  8035k      0  0:00:05  0:00:05 <span class="nt">--</span>:--:-- 8355k
  son@son-localhost ~ <span class="nv">$ </span><span class="nb">chmod</span> +x ./kubectl
  son@son-localhost ~ <span class="nv">$ </span><span class="nb">sudo mv</span> ./kubectl /usr/local/bin/kubectl
</code></pre></div></div> <p>kubectl ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ /usr/local/bin ë””ë ‰í† ë¦¬ ì•„ë˜ì— ë‘ì—ˆë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„¤ì¹˜ëœ kubectl ë²„ì „ì„ í™•ì¸í•´ë³´ê² ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  son@son-localhost ~ <span class="nv">$ </span>kubectl version <span class="nt">-o</span> json <span class="nt">--client</span>
  <span class="o">{</span>
    <span class="s2">"clientVersion"</span>: <span class="o">{</span>
      <span class="s2">"major"</span>: <span class="s2">"1"</span>,
      <span class="s2">"minor"</span>: <span class="s2">"25"</span>,
      <span class="s2">"gitVersion"</span>: <span class="s2">"v1.25.2"</span>,
      <span class="s2">"gitCommit"</span>: <span class="s2">"5835544ca568b757a8ecae5c153f317e5736700e"</span>,
      <span class="s2">"gitTreeState"</span>: <span class="s2">"clean"</span>,
      <span class="s2">"buildDate"</span>: <span class="s2">"2022-09-21T14:33:49Z"</span>,
      <span class="s2">"goVersion"</span>: <span class="s2">"go1.19.1"</span>,
      <span class="s2">"compiler"</span>: <span class="s2">"gc"</span>,
      <span class="s2">"platform"</span>: <span class="s2">"linux/amd64"</span>
    <span class="o">}</span>,
    <span class="s2">"kustomizeVersion"</span>: <span class="s2">"v4.5.7"</span>
  <span class="o">}</span>
</code></pre></div></div> <p><br /></p> <h3 id="33-minikube-ì‹¤í–‰-ë°-ì¢…ë£Œ-">3.3. Minikube ì‹¤í–‰ ë° ì¢…ë£Œ <a name="list3_3"></a></h3> <p>minikubeë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ minikube start ëª…ë ¹ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  son@son-localhost ~ <span class="nv">$ </span>minikube start
  <span class="k">*</span> minikube v1.27.1 on Ubuntu 22.04
  <span class="k">*</span> Automatically selected the docker driver. Other choices: ssh, none
  <span class="k">*</span> Using Docker driver with root privileges
  <span class="k">*</span> Starting control plane node minikube <span class="k">in </span>cluster minikube
  <span class="k">*</span> Pulling base image ...
  <span class="k">*</span> Downloading Kubernetes v1.25.2 preload ...
      <span class="o">&gt;</span> preloaded-images-k8s-v18-v1...:  385.41 MiB / 385.41 MiB  100.00% 4.47 Mi
      <span class="o">&gt;</span> gcr.io/k8s-minikube/kicbase:  387.10 MiB / 387.11 MiB  100.00% 3.68 MiB p
      <span class="o">&gt;</span> gcr.io/k8s-minikube/kicbase:  0 B <span class="o">[</span>________________________] ?% ? p/s 58s
  <span class="k">*</span> Creating docker container <span class="o">(</span><span class="nv">CPUs</span><span class="o">=</span>2, <span class="nv">Memory</span><span class="o">=</span>2200MB<span class="o">)</span> ...
  <span class="k">*</span> Preparing Kubernetes v1.25.2 on Docker 20.10.18 ...
    - Generating certificates and keys ...
    - Booting up control plane ...
    - Configuring RBAC rules ...
  <span class="k">*</span> Verifying Kubernetes components...
    - Using image gcr.io/k8s-minikube/storage-provisioner:v5
  <span class="k">*</span> Enabled addons: default-storageclass, storage-provisioner
  <span class="k">*</span> Done! kubectl is now configured to use <span class="s2">"minikube"</span> cluster and <span class="s2">"default"</span> namespace by default
</code></pre></div></div> <p>ì•„ë¬´ëŸ° ì˜µì…˜ë„ ê¸°ì…í•˜ì§€ ì•Šìœ¼ë©´ ìœ„ì—ì„œ ì„¤ì¹˜í–ˆë˜ Dockerë¥¼ ë“œë¼ì´ë²„ë¡œ ì¡ê³ , kicbase ì´ë¯¸ì§€ë¥¼ ë°›ì•„ CPU 2 coreì™€ Memory 2200MBë¥¼ ìë™ìœ¼ë¡œ ì¡ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p> <blockquote> <p>ì—¬ê¸°ì„œ kicbase ì´ë¯¸ì§€ëŠ” í†µì‹ í•˜ê¸° ìœ„í•´ í”„ë¡ì‹œì˜ ì—­í• ì„ í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆë‹¤. í•´ë‹¹ ì´ë¯¸ì§€ê°€ ì—†ë‹¤ë©´ docker pullì„ í†µí•´ ë°›ì•„ì˜¤ê±°ë‚˜, VPN ë˜ëŠ” HTTP/HTTPS í”„ë¡ì‹œë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ì—¬ minikube start í•´ì•¼í•œë‹¤.</p> </blockquote> <p>minikubeê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆë‹¤ë©´ kubectl ëª…ë ¹ì„ í†µí•´ ìƒì„±ëœ í´ëŸ¬ìŠ¤í„° ì •ë³´ì™€ ì„¤ì •ì„ í™•ì¸í•´ë³´ë„ë¡ í•˜ê² ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  son@son-localhost ~ <span class="nv">$ </span>kubectl cluster-info
  Kubernetes control plane is running at https://192.168.49.2:8443
  CoreDNS is running at https://192.168.49.2:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

  To further debug and diagnose cluster problems, use <span class="s1">'kubectl cluster-info dump'</span><span class="nb">.</span>
  
  son@son-localhost ~ <span class="nv">$ </span>kubectl config view
  apiVersion: v1
  clusters:
  - cluster:
      certificate-authority: /home/son/.minikube/ca.crt
      extensions:
      - extension:
          last-update: Thu, 13 Oct 2022 21:29:21 KST
          provider: minikube.sigs.k8s.io
          version: v1.27.1
        name: cluster_info
      server: https://192.168.49.2:8443
    name: minikube
  contexts:
  - context:
      cluster: minikube
      extensions:
      - extension:
          last-update: Thu, 13 Oct 2022 21:29:21 KST
          provider: minikube.sigs.k8s.io
          version: v1.27.1
        name: context_info
      namespace: default
      user: minikube
    name: minikube
  current-context: minikube
  kind: Config
  preferences: <span class="o">{}</span>
  <span class="nb">users</span>:
  - name: minikube
    user:
      client-certificate: /home/son/.minikube/profiles/minikube/client.crt
      client-key: /home/son/.minikube/profiles/minikube/client.key
</code></pre></div></div> <p>minikubeë¥¼ ì¢…ë£Œí•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ minikube stop ëª…ë ¹ì„ í†µí•´ ì¢…ë£Œí•  ìˆ˜ ìˆë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  son@son-localhost ~ <span class="nv">$ </span>minikube stop
  <span class="k">*</span> Stopping node <span class="s2">"minikube"</span>  ...
  <span class="k">*</span> Powering off <span class="s2">"minikube"</span> via SSH ...
  <span class="k">*</span> 1 node stopped.
</code></pre></div></div> <p><br /></p> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">son</button> <button class="btn btn-white btn-xs" type="button">blog</button> <button class="btn btn-white btn-xs" type="button">infra</button> <button class="btn btn-white btn-xs" type="button">docker</button> <button class="btn btn-white btn-xs" type="button">minikube</button> <button class="btn btn-white btn-xs" type="button">kubectl</button> <button class="btn btn-white btn-xs" type="button">kubernetes</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> <i class="fa fa-comments-o"> </i> <span class="disqus-comment-count" data-disqus-url="http://192.168.116.128:4000/infra/2022/10/13/install_minikube.html">0</span> comments </div> </div> </div> </div> <div class="PageNavigation"> <a class="prev" href="/data/2022/09/08/date_data_procecssing.html">&laquo; [Data] ì—‘ì…€ì„ í™œìš©í•œ ë‚ ì§œ ë°ì´í„° ê°€ê³µ</a> <a class="next" href="/infra/2022/10/14/install_istio.html">[Infra] Minikubeì—ì„œ Istio ì„¤ì¹˜í•˜ê¸° &raquo;</a> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */ /* var disqus_config = function () { this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable }; */ (function() { var d = document, s = d.createElement('script'); s.src = '//son.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-93473370-3', 'auto'); ga('require', ''); ga('send', 'pageview'); </script> <!-- GrowingIO --> <script id="dsq-count-scr" src="https://son.disqus.com/count.js" async></script> </body> </html>
