---
layout: post
title: "[Project] DevSecOps 프로젝트 - Jenkins와 Slack 연동 그리고 멀티 브랜치 파이프라인의 사용"
date: 2020-10-15
desc: "[Project] DevSecOps 프로젝트 - Jenkins와 Slack 연동 그리고 멀티 브랜치 파이프라인의 사용"
keywords: "son,blog,project,devsecops,devops,gcp,jenkins,slack,multi-branch,pipeline"
categories: [Project]
tags: [son,blog,project,devsecops,devops,gcp,jenkins,slack,multi-branch,pipeline]
icon: icon-html
---

본 프로젝트는 클라우드컴퓨팅연구조합(CCCR)에서 클라우드 네이티브 환경에서 DevSecOps 툴 체인 파이프라인을 구축하는 프로젝트입니다.

9월에 시작하여 11월 27일까지 진행되고 현재 진행 중이며, 내용이 긴 만큼 여러 포스트를 나눠 기록하고자 합니다.

> **본 포스트의 내용은 프로젝트 도중 작성되어 추후 변경될 수 있음을 알립니다.**

---

## 목차

[1. Jeknins와 Slack 연동](#list1)

[&nbsp;&nbsp; 1.1. Slack 설정](#list1_1)

[&nbsp;&nbsp; 1.2. Jenkins 설정](#list1_2)

[2. 멀티 브랜치 파이프라인 사용](#list2)

[&nbsp;&nbsp; 2.1. 멀티 브랜치 설정](#list2_1)

[&nbsp;&nbsp; 2.2. 멀티 브랜치 테스트](#list2_2)

<br>

---

## <span style="color:purple">**1. Jeknins와 Slack 연동**</span>   <a name="list1"></a>

<br>

- **Slack 설정**   <a name="list1_1"></a>

    먼저 Jenkins 파이프라인의 실행 결과에 대한 메시지를 받아보기 위해 Slack에서 사용할 워크스페이스와 채널을 생성해줍니다.

    워스크페이스와 채널을 생성하고나면 `https://YOUR_WORKSPACE.slack.com/apps` URL에 접속해서 Slack에 추가 할 앱으로 `Jenkins CI`를 검색합니다.

    | ![add_jenkins_ci](/static/assets/img/landing/project/devsecops_5_1.png){: width="461" height="435"} |
    |:--:| 
    | [그림 1] Jenkins CI 앱 추가 |

    <br>

    `Slack에 추가` 버튼을 누르고 앞서 생성해둔 채널을 선택하여 해당 채널에서 Jenkins의 메시지를 받아 볼 수 있도록 설정합니다.

    | ![jenkins_ci_configure](/static/assets/img/landing/project/devsecops_5_2.png){: width="632" height="569"} |
    |:--:| 
    | [그림 2] Jenkins CI 구성 편집 |

    <br>

    정상적으로 Jenkins CI 앱이 추가되면 `구성` 탭을 눌러 `구성 편집`에 들어가면 위의 [그림 2]와 같은 화면을 볼 수 있습니다.
    
    아래쪽에 보면 토큰이 발급되어 있는 것을 볼 수 있을텐데, **이 토큰은 나중에 Jenkins credentials을 생성할 때 사용**됩니다.

    여기까지 설정했다면 Slack에서의 설정은 끝난 것입니다.

    <br>


- **Jenkins 설정**   <a name="list1_2"></a>

    다음으로 Jenkins에서 Slack과 연동하는 방법을 알아보겠습니다.

    먼저 Jenkins 설정에서 Slack 플러그인을 설치해줍니다.

    | ![jenkins](/static/assets/img/landing/project/devsecops_5_3.png) |
    |:--:| 
    | [그림 3] GCP 인스턴스 생성 |

    <br>

    | ![gcp_instance](/static/assets/img/landing/project/devsecops_5_4.png) |
    |:--:| 
    | [그림 4] GCP 인스턴스 생성 |

    <br>

    | ![gcp_instance](/static/assets/img/landing/project/devsecops_5_5.png) |
    |:--:| 
    | [그림 5] GCP 인스턴스 생성 |

    <br>

    | ![gcp_instance](/static/assets/img/landing/project/devsecops_5_6.png) |
    |:--:| 
    | [그림 6] GCP 인스턴스 생성 |

    <br>

    | ![gcp_instance](/static/assets/img/landing/project/devsecops_5_7.png) |
    |:--:| 
    | [그림 7] GCP 인스턴스 생성 |

    <br>

---

## <span style="color:purple">**2. 멀티 브랜치 파이프라인 사용**</span>   <a name="list2"></a>

<br>

- **멀티 브랜치 설정**   <a name="list2_1"></a>



    <br>


- **멀티 브랜치 테스트**   <a name="list2_2"></a>



    <br>

    다음 포스팅에서는 Jenkins와 Slack을 연동하고 멀티 브랜치를 기반으로 작동하는 파이프라인을 생성하고 스크립트를 작성하는 부분에 대해 다뤄보겠습니다.
